(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{138:function(e){e.exports=JSON.parse('{"menus":[{"link":"","name":"Home"},{"link":"dashboard","name":"Dashboard"},{"link":"likes","name":"Your Likes"},{"link":"posts","name":"Your Posts"},{"link":"editProfile","name":"Edit Profile"},{"link":"profile","name":"Profile"}],"guestMenu":[{"link":"","name":"Home"},{"link":"register","name":"Register"},{"link":"login","name":"Login"}]}')},226:function(e,t,n){e.exports=n(428)},235:function(e,t,n){},272:function(e,t,n){},406:function(e,t,n){},427:function(e,t,n){},428:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),s=n(9),l=(n(235),n(180));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(31),u=n(181),p=n(85),m=n(109),d=n(182),f=n.n(d),E=n(44),g=n(99),b=function(e){localStorage.setItem("jwtToken",e)},O=function(){localStorage.removeItem("jwtToken")},y=function(){return"null"!==localStorage.getItem("jwtToken")},h=function(){return"true"===localStorage.getItem("email_verified")},v=function(){return null!==localStorage.getItem("googleId")},C=n(183),x=n.n(C),S=(n(256),x.a.create({baseURL:"http://localhost:5000",withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}));S.interceptors.response.use((function(e){return e}));var I=S,_=function(e){e?I.defaults.headers.common.Authorization=e:delete I.defaults.headers.common.Authorization},j=n(100),k=n.n(j),w=function(e,t){return{type:"SIGN_UP_SUCCESS",payload:e,user:t}},T=function(e){return{type:"LOG_OUT_INIT",history:e}},U=function(e){return{type:"LOG_IN_SUCCESS",payload:e}},P=function(e){return{type:"FOLLOW_USER_FAILURE",err:e}},N=function(e){return{type:"INIT_GET_NOTIFICATIONS",payload:e}},R=n(34),A=Object(R.a)({forceRefresh:!0}),F=function(){if(localStorage.jwtToken){_(localStorage.jwtToken);var e=localStorage.getItem("jwtToken");if("null"!==e){var t=k()(e);Tn.dispatch(U(t));var n=Date.now()/1e3;t.iat>n&&(Tn.dispatch(T(A)),localStorage.clear(),window.location.href="/login")}}},L=function(e){return e.length>0?!!e.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||"Email not valid":"Field cannot be empty"},D=function(e){return e.length>0?e.length>6||"Username must be at least 6 chars":"Field cannot be empty"},M=function(e){return e.length>0?e.length>6||"Must be at least 6 chars":"Field cannot be empty"},B=function(e,t){return e.length>0?e.length<6?"Must be at least 6 chars":e===t||"Passwords doesn't match":"Field cannot be empty"},G=function(e){return e.length>0?e.length>6||"Must be at least 6 chars":"Field cannot be empty"},W=function(e){return e.length>0?e.length>10||"Must be at least 10 chars":"Field cannot be empty"},z={posts:[],postPage:{},isLoading:!1,titleError:null,bodyError:null,title:"",postContent:"",error:null,isNotified:!1,notification:"",searchValue:"",results:[],searchPageResults:[],selectedUser:"",mentionedUser:!1,commenterId:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;return Object(g.a)(e,(function(n){switch(t.type){case"GET_POSTS_INIT":return void(n.isLoading=!0);case"GET_POSTS_SUCCESS":return console.log(t),n.isLoading=!1,void(n.posts=t.payload);case"GET_POSTS_FAILURE":return console.log(t),n.isLoading=!1,void(n.error=t.error);case"CREATE_POST_SUCCESS":return console.log(t.payload),n.posts=[t.payload.post].concat(Object(E.a)(n.posts)),n.title="",void(n.postContent="");case"LIKE_POST_SUCCESS":console.log("fsfsfssfsf",t);var a=e.posts.findIndex((function(e){return e.id===t.payload.id}));return console.log(a),n.posts[a].likeCounts=n.posts[a].likeCounts+1,n.posts[a].likedByMe=!0,void(n.error=null);case"LIKE_POST_FAILURE":return console.log("testing",t),void(n.error=t.error.message);case"FETCH_POST_SUCCESS":return console.log(t),void(n.postPage=t.payload);case"FETCH_POST_FAILURE":return console.log(t),void(n.error=t.error);case"DISLIKE_POST_SUCCESS":console.log(t);var r=e.posts.findIndex((function(e){return e.id===t.payload.id}));return n.posts[r].likeCounts=n.posts[r].likeCounts-1,n.posts[r].likedByMe=!1,void(n.error=null);case"DELETE_POST_SUCCESS":return console.log(t),void(n.posts=Object(E.a)(n.posts.filter((function(e){return e.id!==t.id}))));case"DISLIKE_POST_FAILURE":return console.log("test",t),void(n.error=t.error.message);case"POST_COMMENT_SUCCESS":return void console.log(t);case"POST_COMMENT_FAILURE":return void(n.error=t.error);case"DISLIKE_POST_FAILURE":return console.log(t),void(n.error=t.error);case"ADD_TITLE":return n.title=t.data,void(n.titleError=G(t.data));case"ADD_CONTENT":return n.postContent=t.data,void(n.bodyError=W(t.data));case"EDIT_COMMENT_SUCCESS":console.log(t);var o=e.posts.findIndex((function(e){return e.id===t.payload.data.postId})),c=n.posts[o].Comments.findIndex((function(e){return e.id===t.payload.data.id}));return n.posts[o].Comments[c].comment_body=t.payload.data.comment_body,void(n.posts[o].Comments=Object(E.a)(n.posts[o].Comments.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)}))));case"EDIT_COMMENT_FAILURE":return console.log(t),void(n.error=t.data);case"DELETE_COMMENT_SUCCESS":var s=e.posts.findIndex((function(e){return e.id===t.postId}));return void(n.posts[s].Comments=Object(E.a)(n.posts[s].Comments.filter((function(e){return e.id!==t.id}))));case"DELETE_COMMENT_FAILURE":return void(n.error=t.error);case"NOTIFICATION_SUCCESS":return console.log(t),void(n.notification=t.payload);case"NOTIFICATION_FAILURE":return console.log(t),void(n.error=t.error);case"COMMENT_UPDATES_SUCCESS":console.log(t);var l=n.posts.findIndex((function(e){return e.id===t.payload.comment.postId}));return n.posts[l].Comments=[t.payload.comment].concat(Object(E.a)(n.posts[l].Comments.sort((function(e,t){var n=new Date(e.createdAt);return new Date(t.createdAt)-n})))),void(n.commenterId=t.payload.comment.userId);case"COMMENT_UPDATES_FAILURE":return void console.log(t);case"REPOST_POST_SUCCESS":console.log(t);var i=t.payload.post.postId,u=e.posts.findIndex((function(e){return e.id===i}));return console.log("checking repost post Key",u),void(n.posts[u].RepostedByMe=!0);case"REPOST_POST_FAILURE":return void console.log(t);case"COMMENT_REPLY_SUCCESS":var p=t.payload.reply.postId,m=t.payload.reply.commentId,d=e.posts.findIndex((function(e){return e.id===p})),f=e.posts[d].Comments.findIndex((function(e){return e.id===m}));return void(n.posts[d].Comments[f].commentReplies=[t.payload.reply].concat(Object(E.a)(n.posts[d].Comments[f].commentReplies)));case"COMMENT_REPLY_FAILURE":return void console.log(t.error);case"REPLY_DELETE_SUCCESS":console.log(t);var g=t.payload.action.payload.postId,b=t.payload.action.payload.commentId,O=t.payload.action.payload.replyId,y=e.posts.findIndex((function(e){return e.id===g})),h=e.posts[y].Comments.findIndex((function(e){return e.id===b}));return void(n.posts[y].Comments[h].commentReplies=Object(E.a)(n.posts[y].Comments[h].commentReplies.filter((function(e){return e.id!==O}))));case"UNREPOST_POST_SUCCESS":console.log(t);var v=t.payload.postId,C=e.posts.findIndex((function(e){return e.id===v}));return console.log("checking repost post Key",C),void(n.posts[C].RepostedByMe=!1);case"UNREPOST_POST_FAILURE":return void console.log(t);case"SEARCH_POSTS_INIT":return console.log(t),void(n.searchValue=t.payload);case"SEARCH_POSTS_SUCCESS":return console.log(t),void(n.results=t.payload.post);case"SEARCH_POSTS_FAILURE":return console.log(t),void(n.results=[]);case"GET_SEARCH_SUCCESS":return console.log(t),void(n.posts=t.payload.post);case"GET_SEARCH_FAILURE":return void console.log(t);case"SET_SELECTED_USER":return console.log(t),n.selectedUser=t.payload,void(n.mentionedUser=!1);case"SET_MENTIONED_USER":n.mentionedUser=!0}}))},K={isAuthenticated:!1,googleAccount:null,error:"",emailVerified:!1,currentUser:{},profileData:{},profilePage:null,isLoading:!0,message:"",usernameError:"",passwordError:"",emailError:"",email:"",password:"",passwordConf:"",passwordConfError:"",getNotifications:[],username:"",notDark:!0},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;return Object(g.a)(e,(function(n){switch(t.type){case"SIGN_UP_SUCCESS":n.email="",n.password="",n.username="",n.error="",n.message=t.user.meta.message,n.isAuthenticated=!1;break;case"SIGN_UP_FAILURE":console.log(t),n.error=t.error;break;case"GET_USER_SUCCESS":var a=y(),r=h(),o=!(1!=a||1!=r);n.isAuthenticated=o,n.googleAccount=v(),n.currentUser=t.payload;break;case"GET_USER_FAILURE":console.log(t),n.isAuthenticated=!1,n.googleAccount=null,n.currentUser={};break;case"LOG_OUT_SUCCESS":n.isAuthenticated=!1,n.googleAccount=null,n.currentUser={};break;case"LOG_IN_SUCCESS":var c=y(),s=h(),l=!(1!=c||1!=s);n.error="",n.googleAccount=v(),n.isAuthenticated=l,n.isLoading=!1;break;case"INIT_LOGIN":n.error="";break;case"LOG_IN_FAILURE":console.log(t.error),n.error=t.error;break;case"GET_USER_PROFILE_SUCCESS":n.message="",n.profileData=t.payload;break;case"GET_USER_PROFILE_FAILURE":n.error=t.error;break;case"UPDATE_USER_PROFILE_SUCCESS":n.profileData=t.payload.user,n.message=t.payload.message;break;case"UPDATE_USER_PROFILE_FAILURE":console.log(t.error),n.error=t.error;break;case"ADD_EMAIL":console.log(L(t.data)),n.email=t.data,n.emailError=L(t.data);break;case"ADD_PASSWORD":n.password=t.data,n.passwordError=M(t.data),n.passwordConf="",n.passwordConfError="";break;case"ADD_PASSWORD_CONF":var i=e.password;n.passwordConf=t.data,n.passwordConfError=B(t.data,i);break;case"ADD_USERNAME":n.username=t.data,n.usernameError=D(t.data);break;case"EMAIL_CONFIRMATION_FAILURE":console.log(t),n.error=t.error,n.emailVerified=!1;break;case"EMAIL_CONFIRMATION_SUCCESS":console.log("email_confirmation",t),n.message=t.payload.message;break;case"RESEND_EMAIL_CONFIRMATION_SUCCESS":console.log(t.payload),n.message=t.payload.meta.message;break;case"RESEND_EMAIL_CONFIRMATION_FAILURE":n.error=t.error;break;case"GET_PROFILE_SUCCESS":console.log(t),n.profilePage=t.data;break;case"GET_PROFILE_FAILURE":console.log(t),n.error=t.error;break;case"FOLLOW_USER_SUCCESS":console.log(t.payload),console.log(t);var u=t.payload.follow.UserFollowers.findIndex((function(e){return e.followerId===t.id}));console.log(u),n.profilePage.UserFollowers=[].concat(Object(E.a)(n.profilePage.UserFollowers),[t.payload.follow.UserFollowers[u]]),n.profilePage.isFollowing=!0;break;case"FOLLOW_USER_FAILURE":console.log(t),n.error=t.error;break;case"UNFOLLOW_USER_SUCCESS":console.log(t),console.log(t.payload.follow.UserFollowers),n.profilePage.UserFollowers=Object(E.a)(n.profilePage.UserFollowers.filter((function(e){return e.followerId!==t.id}))),n.profilePage.isFollowing=!1;break;case"UNFOLLOW_USER_FAILURE":console.log(t),n.error=t.error;break;case"GET_NOTIFICATIONS_SUCCESS":n.getNotifications=t.payload;break;case"GET_NOTIFICATIONS_FAILURE":console.log(t),n.error=t.error;break;case"MARK_AS_READ_SUCCESS":var p=e.getNotifications.findIndex((function(e){return e.notificationId===t.id}));n.getNotifications[p].status=Object(E.a)(t.payload.notifications[p].status);break;case"MARK_AS_READ_FAILURE":console.log(t),n.error=t.error;break;case"SET_DARK":console.log(t),n.notDark=!n.notDark}}))},V={key:"root",storage:f.a,whitelist:["notDark"]},q=Object(m.a)(V,Y),J=Object(i.combineReducers)({user:q,post:H}),Q=n(5),Z=n.n(Q),$=n(3),X={signUp:function(e){return I.post("/api/v1/users/signup",e).then((function(e){return e.data}))},autoLogin:function(){return I.get("/api/v1/users/auth").then((function(e){return e.data}))},logOut:function(){return I.get("/api/v1/users/logout").then((function(e){return e.data}))},logIn:function(e){return I.post("/api/v1/users/login",e).then((function(e){return e.data}))},currentUser:function(){return I.get("/api/v1/users/currentUser").then((function(e){return e.data}))},editProfile:function(){return I.get("/api/v1/users/editProfile").then((function(e){return e.data}))},getProfile:function(e){return I.get("/api/v1/users/profile/".concat(e)).then((function(e){return e.data}))},followUser:function(e){return I.post("/api/v1/users/followUser/".concat(e)).then((function(e){return e.data}))},unfollowUser:function(e){return I.delete("/api/v1/users/unfollowUser/".concat(e)).then((function(e){return e.data}))},resendConfirmation:function(){return I.post("/api/v1/users/resendConfirmation").then((function(e){return e.data}))},emailConfirmation:function(e,t){return I.get("/api/v1/users/emailConfirmation/".concat(e,"/").concat(t)).then((function(e){return e.data}))},updateProfile:function(e){return I.put("/api/v1/users/updateProfile",e).then((function(e){return e.data}))},getNotifications:function(e){return I.get("/api/v1/notifications/".concat(e)).then((function(e){return e.data}))},markAsRead:function(e){return I.post("/api/v1/notifications/markAsRead/".concat(e)).then((function(e){return e.data}))}},ee={createPost:function(e){return I.post("/api/v1/posts/createPost",e).then((function(e){return e.data}))},repost:function(e,t){return I.post("/api/v1/posts/repost/".concat(t,"/").concat(e)).then((function(e){return e.data}))},unrepost:function(e,t){return I.delete("/api/v1/posts/unRepost/".concat(t,"/").concat(e)).then((function(e){return e.data}))},getPosts:function(){return I.get("/api/v1/posts/getPosts").then((function(e){return e.data}))},likePost:function(e){return I.post("/api/v1/posts/likePost/".concat(e)).then((function(e){return e.data}))},deletePost:function(e,t){return I.delete("/api/v1/posts/deletePost/".concat(t,"/").concat(e)).then((function(e){return e.data}))},getPost:function(e){return I.get("/api/v1/posts/post/".concat(e)).then((function(e){return e.data}))},dislikePost:function(e){return I.post("/api/v1/posts/dislikePost/".concat(e)).then((function(e){return e.data}))},postComment:function(e){return I.post("/api/v1/posts/postComment",e).then((function(e){return e.data}))},deleteComment:function(e,t){return I.delete("/api/v1/posts/deleteComment/".concat(t,"/").concat(e)).then((function(e){return e.data}))},editComment:function(e,t,n){return I.put("/api/v1/posts/editComment/".concat(t,"/").concat(e),n).then((function(e){return e.data}))},replyComment:function(e,t,n){return I.post("/api/v1/posts/replyComment/".concat(e,"/").concat(t),n).then((function(e){return e.data}))},deleteReply:function(e,t,n){return I.delete("/api/v1/posts/deleteReply/".concat(e,"/").concat(n,"/").concat(t)).then((function(e){return e.data}))},searchPosts:function(e){return I.get("/api/v1/posts/searchq=".concat(e)).then((function(e){return e.data}))},searchPostsNull:function(e){return I.get("/api/v1/posts/searchq=".concat(e)).then((function(e){return e.data}))}},te=Z.a.mark(ke),ne=Z.a.mark(we),ae=Z.a.mark(Te),re=Z.a.mark(Ue),oe=Z.a.mark(Pe),ce=Z.a.mark(Ne),se=Z.a.mark(Re),le=Z.a.mark(Ae),ie=Z.a.mark(Fe),ue=Z.a.mark(Le),pe=Z.a.mark(De),me=Z.a.mark(Me),de=Z.a.mark(Be),fe=Z.a.mark(Ge),Ee=Z.a.mark(We),ge=Z.a.mark(ze),be=Z.a.mark(He),Oe=Z.a.mark(Ke),ye=Z.a.mark(Ye),he=Z.a.mark(Ve),ve=Z.a.mark(qe),Ce=Z.a.mark(Je),xe=Z.a.mark(Qe),Se=Z.a.mark(Ze),Ie=Z.a.mark($e),_e=Z.a.mark(Xe),je=Z.a.mark(et);function ke(e){var t,n,a;return Z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log(e),t=e.history,r.next=5,Object($.a)(X.signUp,e.payload);case 5:return n=r.sent,console.log(n),console.log(n),r.next=10,Object($.c)(w({},n));case 10:t.push({pathname:"/emailConfirmation",state:n}),r.next=20;break;case 13:return r.prev=13,r.t0=r.catch(0),console.log(r.t0),a=r.t0.response.data.meta.message,console.log(a),r.next=20,Object($.c)({type:"SIGN_UP_FAILURE",error:a});case 20:case"end":return r.stop()}}),te,null,[[0,13]])}function we(e){var t,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object($.a)(X.currentUser);case 3:return t=e.sent,n=t.token,null!==t.user.googleId&&localStorage.setItem("googleId",t.user.googleId),_(n),b(n),e.next=10,Object($.c)({type:"GET_USER_SUCCESS",payload:t});case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(0),localStorage.clear(),e.next=17,Object($.c)({type:"GET_USER_FAILURE",error:e.t0.response.data.message});case 17:case"end":return e.stop()}}),ne,null,[[0,12]])}function Te(){var e;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object($.a)(X.editProfile);case 3:return e=t.sent,console.log(e),t.next=7,Object($.c)({type:"GET_USER_PROFILE_SUCCESS",payload:e});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object($.c)({type:"GET_USER_PROFILE_FAILURE",error:t.t0});case 13:case"end":return t.stop()}}),ae,null,[[0,9]])}function Ue(e){var t;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object($.a)(X.updateProfile,e.payload);case 3:return t=n.sent,n.next=6,Object($.c)({type:"UPDATE_USER_PROFILE_SUCCESS",payload:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object($.c)({type:"UPDATE_USER_PROFILE_FAILURE",error:n.t0.response.data.meta.message});case 12:case"end":return n.stop()}}),re,null,[[0,8]])}function Pe(e){var t,n;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.history,a.next=4,Object($.a)(X.logOut);case 4:return n=a.sent,O(),localStorage.removeItem("CurrentUserId"),localStorage.removeItem("email_verified"),localStorage.removeItem("googleId"),a.next=11,Object($.c)({type:"LOG_OUT_SUCCESS",payload:n});case 11:t.push("/login"),a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(0),a.next=18,Object($.c)({type:"LOG_OUT_FAILURE",error:a.t0});case 18:case"end":return a.stop()}}),oe,null,[[0,14]])}function Ne(e){var t,n,a,r;return Z.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object($.a)(X.logIn,e.payload);case 3:return t=o.sent,console.log("checking login",t),n=t.meta.token,console.log(n),b(n),a=k()(n),_(n),console.log("login saga",t.user.email_verified),null!==t.user.email_verified&&localStorage.setItem("email_verified",t.user.email_verified.toString()),o.next=14,Object($.c)(U(a));case 14:o.next=21;break;case 16:return o.prev=16,o.t0=o.catch(0),r=o.t0.response.data.meta.message,o.next=21,Object($.c)({type:"LOG_IN_FAILURE",error:r});case 21:case"end":return o.stop()}}),ce,null,[[0,16]])}function Re(e){var t;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object($.a)(X.emailConfirmation,e.payload.userId,e.payload.token);case 3:return t=n.sent,console.log("email called",t),n.next=7,Object($.c)({type:"EMAIL_CONFIRMATION_SUCCESS",payload:t});case 7:n.next=15;break;case 9:return n.prev=9,n.t0=n.catch(0),console.log(n.t0.response.data),console.log(n.t0.response.data.meta.message),n.next=15,Object($.c)({type:"EMAIL_CONFIRMATION_FAILURE",error:n.t0.response.data.meta.message});case 15:case"end":return n.stop()}}),se,null,[[0,9]])}function Ae(e){var t;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object($.a)(X.getProfile,e.data);case 3:return t=n.sent,n.next=6,Object($.c)({type:"GET_PROFILE_SUCCESS",data:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object($.c)({type:"GET_USER_PROFILE_FAILURE",err:n.t0});case 12:case"end":return n.stop()}}),le,null,[[0,8]])}function Fe(e){var t;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object($.a)(X.followUser,e.data);case 3:return t=n.sent,console.log(t),n.next=7,Object($.c)((a=t,r=e.id,{type:"FOLLOW_USER_SUCCESS",payload:a,id:r}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object($.c)(P(n.t0));case 13:case"end":return n.stop()}var a,r}),ie,null,[[0,9]])}function Le(e){var t;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object($.a)(X.unfollowUser,e.data);case 3:return t=n.sent,console.log(t),n.next=7,Object($.c)((a=t,r=e.id,{type:"UNFOLLOW_USER_SUCCESS",payload:a,id:r}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object($.c)(P(n.t0));case 13:case"end":return n.stop()}var a,r}),ue,null,[[0,9]])}function De(e){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object($.a)(X.resendConfirmation);case 3:return t=e.sent,console.log(t),e.next=7,Object($.c)({type:"RESEND_EMAIL_CONFIRMATION_SUCCESS",payload:t});case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.next=14,Object($.c)({type:"RESEND_EMAIL_CONFIRMATION_FAILURE",error:e.t0});case 14:case"end":return e.stop()}}),pe,null,[[0,9]])}function Me(e){var t;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object($.a)(X.getNotifications,e.payload);case 3:return t=n.sent,n.next=6,Object($.c)({type:"GET_NOTIFICATIONS_SUCCESS",payload:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object($.c)({type:"GET_NOTIFICATIONS_FAILURE",err:n.t0});case 12:case"end":return n.stop()}}),me,null,[[0,8]])}function Be(e){var t;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.prev=1,n.next=4,Object($.a)(X.markAsRead,e.payload);case 4:return t=n.sent,console.log(t),n.next=8,Object($.c)((a=t,r=e.payload,{type:"MARK_AS_READ_SUCCESS",payload:a,id:r}));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(1),n.next=14,Object($.c)({type:"MARK_AS_READ_FAILURE",err:n.t0});case 14:case"end":return n.stop()}var a,r}),de,null,[[1,10]])}function Ge(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("INIT_GET_NOTIFICATIONS",Me);case 2:case"end":return e.stop()}}),fe)}function We(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("MARK_AS_READ_INIT",Be);case 2:case"end":return e.stop()}}),Ee)}function ze(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("LOG_IN_INIT",Ne);case 2:case"end":return e.stop()}}),ge)}function He(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("FOLLOW_USER_INIT",Fe);case 2:case"end":return e.stop()}}),be)}function Ke(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("UNFOLLOW_USER_INIT",Le);case 2:case"end":return e.stop()}}),Oe)}function Ye(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("GET_PROFILE_INIT",Ae);case 2:case"end":return e.stop()}}),ye)}function Ve(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("RESEND_EMAIL_CONFIRMATION_INIT",De);case 2:case"end":return e.stop()}}),he)}function qe(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("EMAIL_CONFIRMATION_INIT",Re);case 2:case"end":return e.stop()}}),ve)}function Je(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("UPDATE_USER_PROFILE",Ue);case 2:case"end":return e.stop()}}),Ce)}function Qe(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("GET_USER_PROFILE",Te);case 2:case"end":return e.stop()}}),xe)}function Ze(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("GET_USER",we);case 2:case"end":return e.stop()}}),Se)}function $e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("SIGN_UP_INIT",ke);case 2:case"end":return e.stop()}}),Ie)}function Xe(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("LOG_OUT_INIT",Pe);case 2:case"end":return e.stop()}}),_e)}function et(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.b)($e);case 2:return e.next=4,Object($.b)(We);case 4:return e.next=6,Object($.b)(Ge);case 6:return e.next=8,Object($.b)(Ze);case 8:return e.next=10,Object($.b)(He);case 10:return e.next=12,Object($.b)(Ke);case 12:return e.next=14,Object($.b)(Ve);case 14:return e.next=16,Object($.b)(Ye);case 16:return e.next=18,Object($.b)(Xe);case 18:return e.next=20,Object($.b)(ze);case 20:return e.next=22,Object($.b)(qe);case 22:return e.next=24,Object($.b)(Qe);case 24:return e.next=26,Object($.b)(Je);case 26:case"end":return e.stop()}}),je)}var tt=n(135),nt=n.n(tt),at=n(76),rt=function(e){return{type:"LIKE_POST_INIT",payload:e}},ot=function(e){return{type:"DISLIKE_POST_INIT",payload:e}},ct=function(e){return{type:"DISLIKE_POST_FAILURE",error:e}},st=function(e,t){return{type:"DELETE_POST_INIT",payload:e,userId:t}},lt=function(e){return{type:"POST_COMMENT_INIT",payload:e}},it=function(e,t,n){return{type:"DELETE_COMMENT_INIT",payload:e,postId:t,userId:n}},ut=function(e){return{type:"REPLY_DELETE_FAILURE",payload:e}},pt=function(e){return{type:"SEARCH_POSTS_SUCCESS",payload:e}},mt=function(e){return{type:"SET_SELECTED_USER",payload:e}},dt=Z.a.mark(qt),ft=Z.a.mark(Jt),Et=Z.a.mark(Qt),gt=Z.a.mark(Zt),bt=Z.a.mark($t),Ot=Z.a.mark(Xt),yt=Z.a.mark(en),ht=Z.a.mark(tn),vt=Z.a.mark(nn),Ct=Z.a.mark(an),xt=Z.a.mark(rn),St=Z.a.mark(on),It=Z.a.mark(cn),_t=Z.a.mark(sn),jt=Z.a.mark(ln),kt=Z.a.mark(un),wt=Z.a.mark(pn),Tt=Z.a.mark(mn),Ut=Z.a.mark(dn),Pt=Z.a.mark(fn),Nt=Z.a.mark(En),Rt=Z.a.mark(gn),At=Z.a.mark(bn),Ft=Z.a.mark(On),Lt=Z.a.mark(yn),Dt=Z.a.mark(hn),Mt=Z.a.mark(vn),Bt=Z.a.mark(Cn),Gt=Z.a.mark(xn),Wt=Z.a.mark(Sn),zt=Z.a.mark(In),Ht=Z.a.mark(_n),Kt=Z.a.mark(jn);function Yt(e){return Object(p.b)((function(t){var n=e.subscribe("notification");return n.bind("my-event",(function(e){console.log("sdd",e),t(e.body),at.b.success(e.body)})),n.bind("user-mention",(function(e){console.log("sdd usermention",e),t(e),at.b.info(e)})),function(){n.unbind("my-event",t),n.unbind("user-mention",t)}}))}function Vt(e){return Object(p.b)((function(t){var n=e.subscribe("post-comments");return n.bind("new-comment",(function(e){t(e)})),function(){n.unbind("new-comment",t)}}))}function qt(){var e,t,n;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e=new nt.a("0d45d56558d5bdcbc179",{cluster:"us2",forceTLS:!0}),a.next=4,Object($.a)(Vt,e);case 4:t=a.sent;case 5:return a.next=8,Object($.d)(t);case 8:return n=a.sent,console.log(n),a.next=12,Object($.c)({type:"COMMENT_UPDATES_SUCCESS",payload:n});case 12:a.next=5;break;case 14:a.next=20;break;case 16:return a.prev=16,a.t0=a.catch(0),a.next=20,Object($.c)({type:"COMMENT_UPDATES_FAILURE",err:a.t0});case 20:case"end":return a.stop()}}),dt,null,[[0,16]])}function Jt(){var e,t,n;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e=new nt.a("0d45d56558d5bdcbc179",{cluster:"us2",forceTLS:!0}),a.next=4,Object($.a)(Yt,e);case 4:t=a.sent;case 5:return a.next=8,Object($.d)(t);case 8:return n=a.sent,a.next=11,Object($.c)({type:"NOTIFICATION_SUCCESS",payload:n});case 11:a.next=5;break;case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(0),a.next=19,Object($.c)({type:"NOTIFICATION_FAILURE",err:a.t0});case 19:case"end":return a.stop()}}),ft,null,[[0,15]])}function Qt(){var e;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object($.a)(ee.getPosts);case 3:return e=t.sent,t.next=6,Object($.c)({type:"GET_POSTS_SUCCESS",payload:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object($.c)({type:"GET_POSTS_FAILURE",error:t.t0});case 12:case"end":return t.stop()}}),Et,null,[[0,8]])}function Zt(e){var t;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object($.a)(ee.getPost,e.payload);case 3:return t=n.sent,n.next=6,Object($.c)({type:"FETCH_POST_SUCCESS",payload:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object($.c)({type:"FETCH_POST_FAILURE",error:n.t0});case 12:case"end":return n.stop()}}),gt,null,[[0,8]])}function $t(e){var t;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object($.a)(ee.createPost,e.payload);case 3:return t=n.sent,n.next=6,Object($.c)({type:"CREATE_POST_SUCCESS",payload:t});case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),console.log(n.t0),n.next=13,Object($.c)({type:"CREATE_POST_FAILURE",error:n.t0.response.data.meta.message});case 13:case"end":return n.stop()}}),bt,null,[[0,8]])}function Xt(e){var t,n;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log(e),t=e.payload,a.next=5,Object($.a)(ee.editComment,e.payload.id,e.payload.userId,{commentData:e.payload.comment_body});case 5:return n=a.sent,a.next=8,Object($.c)({type:"EDIT_COMMENT_SUCCESS",payload:{comment:n,data:t}});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object($.c)({type:"EDIT_COMMENT_FAILURE",err:a.t0});case 14:case"end":return a.stop()}}),Ot,null,[[0,10]])}function en(e){var t,n;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log(e),a.next=4,Object($.a)(ee.likePost,e.payload);case 4:return t=a.sent,console.log(t),n=e.payload,a.next=9,Object($.c)({type:"LIKE_POST_SUCCESS",payload:{like:t,id:n}});case 9:a.next=16;break;case 11:return a.prev=11,a.t0=a.catch(0),console.log(a.t0),a.next=16,Object($.c)({type:"LIKE_POST_FAILURE",error:a.t0.response.data});case 16:case"end":return a.stop()}}),yt,null,[[0,11]])}function tn(e){var t,n;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log(e),a.next=4,Object($.a)(ee.dislikePost,e.payload);case 4:return t=a.sent,console.log(t),n=e.payload,a.next=9,Object($.c)({type:"DISLIKE_POST_SUCCESS",payload:{dislike:t,id:n}});case 9:a.next=16;break;case 11:return a.prev=11,a.t0=a.catch(0),console.log("yrsgdgdgd",a.t0.response.data),a.next=16,Object($.c)(ct(a.t0.response.data));case 16:case"end":return a.stop()}}),ht,null,[[0,11]])}function nn(e){var t;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("Are you sure you want to delete your post ?")){n.next=16;break}return n.prev=2,n.next=5,Object($.a)(ee.deletePost,e.payload,e.userId);case 5:return t=n.sent,n.next=8,Object($.c)((a=t,r=e.payload,{type:"DELETE_POST_SUCCESS",payload:a,id:r}));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(2),n.next=14,Object($.c)(ct(n.t0));case 14:n.next=17;break;case 16:return n.abrupt("return",null);case 17:case"end":return n.stop()}var a,r}),vt,null,[[2,10]])}function an(e){var t;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object($.a)(ee.postComment,e.payload);case 3:return t=n.sent,n.next=6,Object($.c)((a=t.comment,r=e.payload.id,{type:"POST_COMMENT_SUCCESS",payload:a,id:r}));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object($.c)({type:"POST_COMMENT_FAILURE",error:n.t0.response.data});case 12:case"end":return n.stop()}var a,r}),Ct,null,[[0,8]])}function rn(e){var t,n;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=window.confirm("Are you sure you want to delete your comment ?"),console.log(e),!t){a.next=17;break}return a.prev=3,a.next=6,Object($.a)(ee.deleteComment,e.payload,e.userId);case 6:return n=a.sent,a.next=9,Object($.c)((r=n,o=e.payload,c=e.postId,{type:"DELETE_COMMENT_SUCCESS",payload:r,id:o,postId:c}));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(3),a.next=15,Object($.c)({type:"DELETE_COMMENT_FAILURE",error:a.t0});case 15:a.next=18;break;case 17:return a.abrupt("return",null);case 18:case"end":return a.stop()}var r,o,c}),xt,null,[[3,11]])}function on(e){var t,n,a;return Z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log(e),t=e.payload,n=e.id,r.next=6,Object($.a)(ee.repost,t,n);case 6:return a=r.sent,r.next=9,Object($.c)({type:"REPOST_POST_SUCCESS",payload:a});case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Object($.c)({type:"REPOST_POST_FAILURE",error:r.t0});case 15:case"end":return r.stop()}}),St,null,[[0,11]])}function cn(e){var t,n,a;return Z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log(e),t=e.payload,n=e.id,r.next=6,Object($.a)(ee.unrepost,t,n);case 6:return a=r.sent,r.next=9,Object($.c)({type:"UNREPOST_POST_SUCCESS",payload:a});case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Object($.c)({type:"UNREPOST_POST_FAILURE",error:r.t0});case 15:case"end":return r.stop()}}),It,null,[[0,11]])}function sn(e){var t,n,a,r;return Z.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.payload.postId,n=e.payload.commentId,a=e.payload.replyBody,o.next=6,Object($.a)(ee.replyComment,t,n,{replyBody:a});case 6:return r=o.sent,o.next=9,Object($.c)({type:"COMMENT_REPLY_SUCCESS",payload:r});case 9:o.next=15;break;case 11:return o.prev=11,o.t0=o.catch(0),o.next=15,Object($.c)({type:"COMMENT_REPLY_FAILURE",error:o.t0});case 15:case"end":return o.stop()}}),_t,null,[[0,11]])}function ln(e){var t,n,a,r,o;return Z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!window.confirm("Are you sure you want to delete your reply ?")){c.next=20;break}return c.prev=2,t=e.payload.postId,n=e.payload.replyId,a=e.payload.userId,c.next=8,Object($.a)(ee.deleteReply,t,n,a);case 8:return r=c.sent,o={deleteReply:r,action:e},c.next=12,Object($.c)({type:"REPLY_DELETE_SUCCESS",payload:o});case 12:c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(2),c.next=18,Object($.c)(ut(c.t0));case 18:c.next=21;break;case 20:return c.abrupt("return",null);case 21:case"end":return c.stop()}}),jt,null,[[2,14]])}function un(e){var t,n;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,""!==e.payload){a.next=9;break}return a.next=4,Object($.a)(ee.searchPostsNull,e.payload);case 4:return t=a.sent,a.next=7,Object($.c)(pt(t));case 7:a.next=14;break;case 9:return a.next=11,Object($.a)(ee.searchPosts,e.payload);case 11:return n=a.sent,a.next=14,Object($.c)(pt(n));case 14:a.next=20;break;case 16:return a.prev=16,a.t0=a.catch(0),a.next=20,Object($.c)({type:"SEARCH_POSTS_FAILURE",error:a.t0});case 20:case"end":return a.stop()}}),kt,null,[[0,16]])}function pn(e){var t,n;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object($.a)(ee.searchPosts,t);case 4:return n=a.sent,a.next=7,Object($.c)({type:"GET_SEARCH_SUCCESS",payload:n});case 7:a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(1),console.log("error here",a.t0),a.next=14,Object($.c)({type:"GET_SEARCH_FAILURE",error:a.t0});case 14:case"end":return a.stop()}}),wt,null,[[1,9]])}function mn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("SEARCH_POSTS_INIT",un);case 2:case"end":return e.stop()}}),Tt)}function dn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("GET_SEARCH_INIT",pn);case 2:case"end":return e.stop()}}),Ut)}function fn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("REPLY_DELETE_INIT",ln);case 2:case"end":return e.stop()}}),Pt)}function En(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("FETCH_POST_INIT",Zt);case 2:case"end":return e.stop()}}),Nt)}function gn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("COMMENT_REPLY_INIT",sn);case 2:case"end":return e.stop()}}),Rt)}function bn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("REPOST_POST_INIT",on);case 2:case"end":return e.stop()}}),At)}function On(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("UNREPOST_POST_INIT",cn);case 2:case"end":return e.stop()}}),Ft)}function yn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("EDIT_COMMENT_INIT",Xt);case 2:case"end":return e.stop()}}),Lt)}function hn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("DELETE_POST_INIT",nn);case 2:case"end":return e.stop()}}),Dt)}function vn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("DELETE_COMMENT_INIT",rn);case 2:case"end":return e.stop()}}),Mt)}function Cn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("LIKE_POST_INIT",en);case 2:case"end":return e.stop()}}),Bt)}function xn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("DISLIKE_POST_INIT",tn);case 2:case"end":return e.stop()}}),Gt)}function Sn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("POST_COMMENT_INIT",an);case 2:case"end":return e.stop()}}),Wt)}function In(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("GET_POSTS_INIT",Qt);case 2:case"end":return e.stop()}}),zt)}function _n(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)("CREATE_POST_INIT",$t);case 2:case"end":return e.stop()}}),Ht)}function jn(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.b)(In);case 2:return e.next=4,Object($.b)(dn);case 4:return e.next=6,Object($.b)(gn);case 6:return e.next=8,Object($.b)(fn);case 8:return e.next=10,Object($.b)(qt);case 10:return e.next=12,Object($.b)(bn);case 12:return e.next=14,Object($.b)(Jt);case 14:return e.next=16,Object($.b)(On);case 16:return e.next=18,Object($.b)(Sn);case 18:return e.next=20,Object($.b)(hn);case 20:return e.next=22,Object($.b)(En);case 22:return e.next=24,Object($.b)(vn);case 24:return e.next=26,Object($.b)(_n);case 26:return e.next=28,Object($.b)(Cn);case 28:return e.next=30,Object($.b)(yn);case 30:return e.next=32,Object($.b)(xn);case 32:return e.next=34,Object($.b)(mn);case 34:case"end":return e.stop()}}),Kt)}var kn=[et,jn],wn=Object(p.a)(),Tn=Object(i.createStore)(J,Object(u.composeWithDevTools)(Object(i.applyMiddleware)(wn))),Un=Object(m.b)(Tn);kn.map(wn.run);var Pn,Nn=n(18),Rn=n(208),An=n(492),Fn=n(72),Ln=n(73),Dn=n(75),Mn=n(74),Bn=n(12),Gn=n(53),Wn=n(490),zn=n(482),Hn=n(491),Kn=n(113),Yn=n(22),Vn=(n(154),n(500)),qn=n(210),Jn=n(84),Qn=n.n(Jn),Zn=n(112),$n=n.n(Zn),Xn=n(101),ea=n(27),ta=n(102),na=Object(ta.a)(ea.a)(Pn||(Pn=Object(Xn.a)(["\n    color: #333;\n    text-decoration: none;\n"]))),aa=function(e){return r.a.createElement(na,e," ",e.title)},ra=n(14),oa=function(e){return e.post},ca=function(e){return e.user},sa=Object(ra.a)(ca,(function(e){return e})),la=Object(ra.a)(oa,(function(e){return e.postPage})),ia=Object(ra.a)(oa,(function(e){return e.posts})),ua=Object(ra.a)(ca,(function(e){return e.profileData})),pa=Object(ra.a)(oa,(function(e){return e.notification})),ma=Object(ra.a)(oa,(function(e){return e.isNotified})),da=Object(ra.a)(ca,(function(e){return e.message})),fa=(Object(ra.a)(ca,(function(e){return e.googleAccount})),Object(ra.a)(ca,(function(e){return e.error}))),Ea=Object(ra.a)(oa,(function(e){return e.error})),ga=Object(ra.a)(ca,(function(e){return e.message})),ba=Object(ra.a)(oa,(function(e){return e.posts.filter((function(e){return e.likeCounts>1})).sort((function(e,t){return t.likeCounts-e.likeCounts})).slice(0,2)})),Oa=Object(ra.a)(ca,(function(e){return e.currentUser})),ya=Object(ra.a)(oa,(function(e){return e.titleError})),ha=Object(ra.a)(oa,(function(e){return e.bodyError})),va=Object(ra.a)(oa,(function(e){return e.title})),Ca=Object(ra.a)(oa,(function(e){return e.postContent})),xa=Object(ra.a)(oa,(function(e){return e.isLoading})),Sa=Object(ra.a)(ca,(function(e){return e.getNotifications})),Ia=Object(ra.a)(oa,(function(e){return e.searchValue})),_a=Object(ra.a)(oa,(function(e){return e.results})),ja=Object(ra.a)(oa,(function(e){return e.searchPageResults})),ka=Object(ra.a)(oa,(function(e){return e.selectedUser})),wa=Object(ra.a)(oa,(function(e){return e.mentionedUser})),Ta=Object(ra.a)(oa,(function(e){return e.commenterId})),Ua=Object(ra.a)(oa,(function(e){return function(e,t){var n=new Set;return t.filter((function(t){var a=e(t),r=!n.has(a);return r&&n.add(a),r}))}((function(e){return e}),function e(t){return t?t.flatMap((function(t){return[t.author.username].concat(e(t.Comments)).concat(e(t.commentReplies))})):[]}(e.posts))}));var Pa=function(){var e=Object(s.c)(),t=Object(s.d)(Sa);return r.a.useEffect((function(){e({type:"INIT_NOTIFICATION"})}),[]),[t]};var Na=function(){var e=Object(s.c)(),t=Pa(),n=Object(Bn.a)(t,1)[0],a=Object(s.d)(ma),r=Object(s.d)(Oa),o=Object(s.d)(va),c=Object(s.d)(ya),l=Object(s.d)(ha),i=Object(s.d)(Ca),u=Object(s.d)(ua),p=Object(s.d)(ba),m=Object(s.d)(ia),d=Object(s.d)(fa),f=Object(s.d)(ga),E=Object(s.d)(Ea),g=Object(s.d)(xa),b=Object(s.d)(Ia),O=Object(s.d)(_a),y=Object(s.d)(ja),h=Object(s.d)(Ua),v=Object(s.d)(ka),C=Object(s.d)(wa);return{posts:m,notifications:n,user:r,mentionUsers:h,setSelectedOptionValue:function(t){return e(mt(t))},setMentioned:function(){return e({type:"SET_MENTIONED_USER"})},commenterId:Object(s.d)(Ta),mentionedUser:C,loading:g,errPost:E,message:f,userErr:d,query:b,selectedUser:v,searchResults:y,isNotified:a,getProfile:function(){return e({type:"GET_USER_PROFILE"})},setSelectedUser:mt,getSearch:function(t){return e({type:"GET_SEARCH_INIT",payload:t})},postResults:O,searchQ:function(t){return e({type:"SEARCH_POSTS_INIT",payload:t})},deleteRep:function(t){return e({type:"REPLY_DELETE_INIT",payload:t})},profileData:u,updateProfile:function(t){return e({type:"UPDATE_USER_PROFILE",payload:t})},replyComm:function(t){return e({type:"COMMENT_REPLY_INIT",payload:t})},likePost:function(t){return e(rt(t))},dislikePost:function(t){return e(ot(t))},deletePost:function(t,n){return e(st(t,n))},deleteComment:function(t,n,a){return e(it(t,n,a))},postComment:function(t){return e(lt(t))},editComment:function(t){return e({type:"EDIT_COMMENT_INIT",payload:t})},createPost:function(t){return e({type:"CREATE_POST_INIT",payload:t})},rePost:function(t,n){return e(function(e,t){return{type:"REPOST_POST_INIT",payload:e,id:t}}(t,n))},unRepost:function(t,n){return e(function(e,t){return{type:"UNREPOST_POST_INIT",payload:e,id:t}}(t,n))},ourTitle:o,titleError:c,popPosts:p,ourBodyError:l,ourPostContent:i}},Ra=n(111),Aa=n.n(Ra),Fa=function(e){var t=e.type,n=void 0===t?"post-date":t,a=e.createdAt;return r.a.createElement(r.a.Fragment,null,"post-date"===n&&r.a.createElement(Kn.a,{variant:"subtitle1",align:"left"},Aa()(a).calendar()),"comment-date"===n&&r.a.createElement(Kn.a,{id:"date",style:{fontSize:"12px"},variant:"caption",align:"left"},Aa()(a).calendar()),"reply-date"===n&&r.a.createElement(Kn.a,{style:{fontSize:"12px"},variant:"caption",align:"left"},Aa()(a).calendar()))},La=n(477),Da=n(192),Ma=n.n(Da),Ba=n(193),Ga=n.n(Ba),Wa=n(194),za=n.n(Wa),Ha=n(191),Ka=n.n(Ha),Ya=function(e){var t=e.type,n=e.onReply,a=e.update,o=e.postId,c=e.userId,s=e.commentId,l=e.comment,i=e.setEditComment,u=e.deleteReply,p=e.replyId,m=e.replyUserId,d=Na().deleteComment;return r.a.createElement(r.a.Fragment,null,"reply"===t&&r.a.createElement("span",{style:{cursor:"pointer",paddingRight:"20px"},onClick:function(){return null===n||void 0===n?void 0:n()}},r.a.createElement(Ka.a,{color:"primary",style:{margin:"-5px 0px"}})," ",r.a.createElement("span",null,"Reply")),"delete"===t&&r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return d(s,o,c)}},r.a.createElement(Qn.a,{style:{margin:"-5px 0px"},color:"primary"})," ",r.a.createElement("span",null,"Delete")),"edit"===t&&r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return null===i||void 0===i?void 0:i(!0)}},r.a.createElement(Ma.a,{style:{margin:"-5px 0px"},color:"primary"})," ",r.a.createElement("span",null,"Edit")),"cancel"===t&&r.a.createElement("span",{style:{cursor:"pointer",paddingRight:"20px"},onClick:function(){return null===i||void 0===i?void 0:i(!1)}},r.a.createElement(Ga.a,{style:{margin:"-7px 0px"},color:"primary"})," ",r.a.createElement("span",null,"Cancel")),"update"===t&&r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return null===a||void 0===a?void 0:a(l)}},r.a.createElement(za.a,{style:{margin:"-7px 0px"},color:"primary"})," ",r.a.createElement("span",null,"Update")),"deleteReply"===t&&r.a.createElement(Kn.a,{style:{display:"inline-block",float:"right"},align:"right"},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return null===u||void 0===u?void 0:u(p,o,m,s)}},r.a.createElement(Qn.a,{style:{margin:"-5px 0px"},color:"primary"})," ",r.a.createElement("span",null,"Delete"))))},Va=n(195),qa=n.n(Va),Ja=n(196),Qa=n.n(Ja),Za=function(e){var t=e.dislike,n=e.postId,a=e.like,o=e.likeCounts,c=e.type;return r.a.createElement(r.a.Fragment,null,"liked"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return null===t||void 0===t?void 0:t(n)}},r.a.createElement("span",{style:{padding:"12px"}},"Likes"," "," ",o),r.a.createElement(qa.a,{style:{color:"red",cursor:"pointer",margin:"-7px"}}))),"unliked"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){return null===a||void 0===a?void 0:a(n)}},r.a.createElement("span",{style:{padding:"12px"}},"Likes"," "," ",o),r.a.createElement(Qa.a,{style:{color:"red",cursor:"pointer",margin:"-7px"}}))))},$a=n(472),Xa=n(476),er=n(474),tr=n(475),nr=n(473),ar=n(471),rr=n(32);function or(e){var t=Object(rr.a)(),n=Object(ar.a)(t.breakpoints.down("sm"));return r.a.createElement($a.a,{fullScreen:n,open:e.open,onClose:e.handleClose,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(nr.a,{id:"responsive-dialog-title"},"You have to be signed in to do that"),r.a.createElement(er.a,null,r.a.createElement(tr.a,null,r.a.createElement(aa,{style:{color:"#333"},to:{pathname:"/login"},title:"Sign In"}))),r.a.createElement(Xa.a,null,r.a.createElement(La.a,{autoFocus:!0,onClick:e.handleClose,color:"primary"},"Close")))}var cr=function(e){var t=e.postId,n=e.currentUser,a=e.writeComment,o=e.openForm,c=e.openModal,s=e.handleCloseModal,l=e.handleClickOpen,i=e.post,u=e.type,p=void 0===u?"post-buttons-modal":u,m=e.comment,d=e.user,f=e.onReply,E=e.setEditComment,g=Na(),b=g.likePost,O=g.dislikePost,y=r.a.useCallback((function(e){return b(e)}),[b]),h=r.a.useCallback((function(e){return O(e)}),[O]);return r.a.createElement(r.a.Fragment,null,"comment-buttons"===p&&(0!==Object.entries(d).length?r.a.createElement(r.a.Fragment,null,d&&d.user&&m.userId===d.user.id?r.a.createElement(Kn.a,{style:{display:"inline-block",float:"right"},align:"right"},r.a.createElement(Ya,{type:"delete",comment:m,userId:m.userId,postId:t,commentId:m.id})):null,r.a.createElement(Kn.a,{style:{display:"inline-block",float:"right"},align:"right"},r.a.createElement(Ya,{type:"reply",onReply:f})),m.gifUrl||m.userId!==d.user.id?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn.a,{style:{display:"inline-block",margin:"0px 20px",float:"right"},align:"left"},r.a.createElement(Ya,{type:"edit",setEditComment:E})))):null),"post-buttons"===p&&(0===Object.entries(n).length?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:l},r.a.createElement(Za,{like:y,type:"unliked",likeCounts:i.likeCounts})),c?r.a.createElement(or,{open:c,handleClose:s}):null):r.a.createElement(r.a.Fragment,null,!0===i.likedByMe?r.a.createElement(Za,{postId:i.id,dislike:h,type:"liked",likeCounts:i.likeCounts}):r.a.createElement(Za,{postId:i.id,like:y,type:"unliked",likeCounts:i.likeCounts}))),"post-buttons-modal"===p&&(0===Object.entries(n).length?r.a.createElement(r.a.Fragment,null,r.a.createElement(La.a,{onClick:l,variant:"outlined",component:"span",color:"primary"},"Write A Comment"),c?r.a.createElement(or,{open:c,handleClose:s}):null):r.a.createElement(r.a.Fragment,null,r.a.createElement(La.a,{onClick:a,variant:"outlined",component:"span",color:"primary"},o?"Close":"Write A Comment"))))},sr=n(199),lr=n.n(sr),ir=n(480),ur=n(207);n(272);function pr(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ur.a,{wrapperClassName:"gifForm",searchFormClassName:{padding:"20px 0px"},apiKey:"9Ixlv3DWC1biJRI57RanyL7RTbfzz0o7",onSelect:function(t){return e.select(t)},masonryConfig:[{columns:4,imageWidth:110,gutter:5},{mq:"1000px",columns:4,imageWidth:120,gutter:5}]}))}var mr=n(494),dr=n(481),fr=n(198),Er=n.n(fr),gr=function(e){Na().selectedUser;return r.a.createElement(r.a.Fragment,null,"post"===e.type&&r.a.createElement(mr.a,{label:"Title",style:{width:"100%"},name:"title",error:!(!0===e.titleError||null===e.titleError),value:e.title,onChange:null===e||void 0===e?void 0:e.handleTitleChange,margin:"none"}),"gif-commentfield"===e.type&&r.a.createElement(mr.a,{className:"commentInput",type:"text",style:{borderRadius:"50%"},id:"outlined-multiline-static",label:"Write A Comment",multiline:!0,size:"medium",name:"comment_body",value:e.comment_body,rows:e.comment_body.length>35?3:1,error:e.comment_body.length>200,fullWidth:!0,InputProps:{startAdornment:r.a.createElement(dr.a,{style:{cursor:"pointer",alignItems:"center"},position:"start"},r.a.createElement(Er.a,{onClick:null===e||void 0===e?void 0:e.setGifSelected}))},margin:"normal",variant:"outlined",onChange:null===e||void 0===e?void 0:e.commentChange}),"post-content"===e.type&&r.a.createElement(mr.a,{id:"outlined-multiline-static",label:"Post Content",name:"postContent",multiline:!0,style:{width:"100%",paddingTop:"20px"},rows:e.post_content.length>50?"4":"1",error:!(!0===e.bodyError||null===e.bodyError),value:e.post_content,onChange:null===e||void 0===e?void 0:e.handleContentChange,margin:"normal"}),"edit-comment"===e.type&&r.a.createElement(mr.a,{inputProps:{"data-testid":"comment-item-textfield"},className:"commentInput",type:"text",style:{borderRadius:"50%"},id:"outlined-multiline-static",multiline:!0,name:"comment_body",defaultValue:e.comment_body,rows:"2",fullWidth:!0,margin:"normal",variant:"outlined",onChange:null===e||void 0===e?void 0:e.setCommentEdit}))};function br(e){var t=e.commentChange,n=e.comment_body,o=e.gifUrl,c=e.isGif,s=e.setCommentBody,l=e.onSubmit,i=e.setMentionedUser,u=e.currentUser,p=Object(a.useState)(!1),m=Object(Bn.a)(p,2),d=m[0],f=m[1],E=Na(),g=E.mentionUsers,b=E.setSelectedOptionValue,O=E.selectedUser,y=E.mentionedUser,h=r.a.useCallback((function(e){b(e),null===s||void 0===s||s(n.concat(e)),null===i||void 0===i||i(!1)}),[b,s,i,n]),v=g.filter((function(e){return e!==(null===u||void 0===u?void 0:u.username)})).map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:l},!1===d?r.a.createElement(r.a.Fragment,null,r.a.createElement(gr,{type:"gif-commentfield",selectedUser:O,comment_body:n,commentChange:t,setGifSelected:function(){return f(!0)}}),n.length>200&&r.a.createElement(ir.a,{error:!0,id:"component-helper-text"},"Comment must be less than 200 chars"),y&&r.a.createElement("select",{onChange:function(e){return h(e.target.value)},name:"mentionedUsers"},r.a.createElement("option",{value:""},"Select User"),v),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(La.a,{disabled:!(n.length>6&&n.length<=200),type:"submit",variant:"outlined",color:"primary"},"Post A Comment")):r.a.createElement(r.a.Fragment,null,r.a.createElement(pr,{select:o}),r.a.createElement(zn.a,{container:!0,spacing:1,style:{padding:"50px 0px"}},r.a.createElement(zn.a,{item:!0,sm:1,lg:1},r.a.createElement(lr.a,{style:{cursor:"pointer"},onClick:function(){return f(!1)}})),r.a.createElement(zn.a,{item:!0,sm:3,lg:3},r.a.createElement(La.a,{disabled:""===c,size:"small",type:"submit",variant:"outlined",color:"primary"},"Post GIPHY"))))))}var Or={color:"#fff",fontSize:"11px"},yr=function(e){return r.a.createElement(La.a,Object.assign({},e,{"data-testid":e.test,variant:"contained",style:Or}),e.children)},hr=n(479),vr=n(200),Cr=n.n(vr),xr=(n(406),n(133)),Sr=n.n(xr),Ir=function(e){var t=e.comment,n=t.gifUrl,a=t.comment_body,o=t.createdAt;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{"data-testid":"comment-body"},""===n&&r.a.createElement(Sr.a,{className:"markdownStyle",source:a})),n&&r.a.createElement("img",{style:{width:"55%",clear:"both",display:"block"},src:"".concat(n)}),r.a.createElement(Fa,{type:"comment-date",createdAt:o}))},_r=function(e){var t=e.type,n=e.comment,o=e.reply,c=e.editComment,s=e.user,l=e.onReply,i=e.postId,u=Object(a.useState)(""),p=Object(Bn.a)(u,2),m=p[0],d=p[1],f=Object(a.useState)(!1),E=Object(Bn.a)(f,2),g=E[0],b=E[1],O=Na().deleteRep,y=function(e){var t={comment_body:m,id:e.id,postId:e.postId,userId:e.userId};c(t),b(!1)},h=function(e,t,n,a){O({replyId:e,postId:t,userId:n,commentId:a})},v=Object(a.useCallback)((function(e,t,n,a){return h(e,t,n,a)}),[h]),C=Object(a.useCallback)((function(e){return y(e)}),[y]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(zn.a,{container:!0},r.a.createElement(zn.a,{item:!0,xs:12,lg:11},"comment"===t&&r.a.createElement(r.a.Fragment,null,g&&n.comment_body?r.a.createElement(gr,{type:"edit-comment",comment_body:n.comment_body,setCommentEdit:function(e){return d(e.target.value)}}):r.a.createElement(Ir,{comment:n}),n.comment_body&&g?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ya,{type:"cancel",setEditComment:b}),r.a.createElement(Ya,{type:"update",update:C,comment:n})):r.a.createElement(r.a.Fragment,null,r.a.createElement(cr,{type:"comment-buttons",comment:n,user:s,postId:i,onReply:l,setEditComment:b}))),"reply"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{"data-testid":"reply-data"},r.a.createElement(zn.a,{container:!0},r.a.createElement(zn.a,{item:!0,xs:12,lg:11},r.a.createElement("div",{"data-testid":"reply-body"},r.a.createElement(Cr.a,{className:"markdownStyle",source:null===o||void 0===o?void 0:o.replyBody})),0!==Object.entries(s).length&&s&&s.user&&(null===o||void 0===o?void 0:o.userId)===s.user.id?r.a.createElement(Ya,{type:"deleteReply",replyId:o.id,replyUserId:o.userId,commentId:n.id,postId:i,deleteReply:v}):null,r.a.createElement(Fa,{type:"reply-date",createdAt:null===o||void 0===o?void 0:o.createdAt}))))))))};function jr(e){var t=e.onSubmit,n=e.replyChange,a=e.replyBody;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:t},r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{className:"commentInput",type:"text",style:{borderRadius:"50%"},id:"outlined-multiline-static",label:"Write A Reply",multiline:!0,size:"medium",name:"reply_body",value:a,rows:a.length>35?3:1,error:a.length>200,fullWidth:!0,margin:"normal",variant:"outlined",onChange:n}),a.length>200&&r.a.createElement(ir.a,{error:!0,id:"component-helper-text"},"Comment must be less than 200 chars"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(La.a,{disabled:!(a.length>6&&a.length<=200),type:"submit",variant:"outlined",color:"primary"},"Reply"))))}var kr=function(e){var t=e.comment,n=e.isBold,a=e.currentUser,o=e.openModal,c=e.handleCloseModal,s=e.handleClickOpen,l=e.userId,i=void 0!==t.commentReplies?"-10px 15px":"-10px 0px";return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{alt:"gravatar",style:{margin:i},src:t.author.gravatar,width:"30",height:"30"}),r.a.createElement(Kn.a,{style:{display:"inline-block",margin:"10px 10px",fontWeight:700,padding:"0px 0px"},variant:"h6",align:"left"},0===Object.entries(a).length?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontSize:"12px",margin:"0px",padding:"0px",cursor:"pointer",fontWeight:n(t)},onClick:s},t.author.username,t.userId===l&&r.a.createElement("span",{style:{fontSize:"12px"}}," (OP)")),o?r.a.createElement(or,{open:o,handleClose:c}):null):r.a.createElement(r.a.Fragment,null,r.a.createElement(aa,{style:{fontSize:"12px",fontWeight:n(t)},to:{pathname:"/profile/".concat(t.author.username)},title:t.author.username}),t.userId===l&&r.a.createElement("span",{style:{fontSize:"12px"}}," (OP)"))))},wr={margin:"15px "},Tr=r.a.forwardRef((function(e,t){var n=e.comment,o=e.openModal,c=e.handleClickOpen,s=e.handleCloseModal,l=e.isBold,i=Na(),u=i.replyComm,p=i.editComment,m=Object(a.useState)(!1),d=Object(Bn.a)(m,2),f=d[0],E=d[1],g=Object(a.useState)(""),b=Object(Bn.a)(g,2),O=b[0],y=b[1],h=r.a.useCallback((function(t){t.preventDefault();var a={replyBody:O,userId:e.user.user.id,postId:e.postId,commentId:n.id};u(a),E(!1),y("")}),[u,E,y]),v=r.a.useCallback((function(){console.log("onreply callback"),E(!f)}),[E,f]);return r.a.createElement(hr.a,{innerRef:t,style:{paddingBottom:"20px"},"data-testid":"comment-list-container"},r.a.createElement(kr,Object.assign({},e,{currentUser:e.user,comment:n,openModal:o,handleClickOpen:c,handleCloseModal:s,isBold:l})),r.a.createElement("div",{style:wr,"data-testid":"commentitem-wrapper"},r.a.createElement(_r,{onReply:v,type:"comment",comment:n,user:e.user,postId:e.postId,deleteComment:e.deleteComment,editComment:p}),0!==n.commentReplies.length?r.a.createElement("div",{style:{marginLeft:"30px",padding:"20px"}},n.commentReplies.map((function(t,i){return r.a.createElement(a.Fragment,{key:i},r.a.createElement("div",{style:{padding:"5px"}},r.a.createElement(kr,Object.assign({},e,{currentUser:e.user,comment:t,openModal:o,handleClickOpen:c,handleCloseModal:s,isBold:l})),r.a.createElement(_r,{type:"reply",reply:t,comment:n,onReply:v,user:e.user,postId:e.postId,deleteComment:e.deleteComment,editComment:e.editComment})))})),f&&r.a.createElement(jr,{onSubmit:function(e){return h(e)},replyBody:O,replyChange:function(e){return y(e.target.value)}})):r.a.createElement("div",{style:{marginLeft:"30px",padding:"0px"}},f&&r.a.createElement(jr,{onSubmit:function(e){return h(e)},replyBody:O,replyChange:function(e){return y(e.target.value)}}))))}));var Ur=r.a.forwardRef((function(e,t){var n=Object(a.useState)(2),o=Object(Bn.a)(n,2),c=o[0],s=o[1],l=Object(a.useState)(!1),i=Object(Bn.a)(l,2),u=i[0],p=i[1],m=Object(a.useState)(!1),d=Object(Bn.a)(m,2),f=d[0],E=d[1],g=e.comments.length,b=c,O=Math.min(2,g-b),y=r.a.useCallback((function(){console.log("this got called owl man"),p(!0)}),[p]),h=function(){p(!1)},v=r.a.useCallback((function(e){e.preventDefault(),s(2),E(!1)}),[s,E]),C=function(t){return t.userId===e.userId?800:400},x=e.comments.slice(0).sort((function(e,t){var n=new Date(e.createdAt);return new Date(t.createdAt)-n})).slice(0,b).reverse(),S=r.a.createElement("div",{style:{margin:"30px 0px"},"data-testid":"show_more_less"},e.comments.length>2?r.a.createElement(r.a.Fragment,null,-1!==O&&-2!==O?r.a.createElement(r.a.Fragment,null,0!==O?r.a.createElement(yr,{test:"show_more_button",onClick:function(e){return function(e){e.preventDefault(),b+2&&b<=g?(s(b+2),E(!0)):s(g)}(e)},component:"span",color:"secondary"},"View"," ",-1!==O&&-2!==O?O:0," ","More Comments"):r.a.createElement(yr,{test:"show_less_button",onClick:function(e){return v(e)},component:"span",color:"secondary"},"Show Less Comments")):r.a.createElement(yr,{test:"show_less_button",onClick:function(e){return v(e)},component:"span",color:"secondary"},"Show Less Comments")):null);return r.a.createElement(zn.a,{"data-testid":"comment-list-div"},r.a.createElement(r.a.Fragment,null,S),!0===f?x.map((function(n,a){return r.a.createElement("div",{"data-testid":"comment-show-more-".concat(a),key:a},r.a.createElement(Tr,Object.assign({ref:t,comment:n,openModal:u,handleCloseModal:h,isBold:C,handleClickOpen:y},e)))})):r.a.createElement(r.a.Fragment,null,x.map((function(n,a){return r.a.createElement("div",{key:a,ref:t,className:"comment"},r.a.createElement(Tr,Object.assign({ref:t,comment:n,openModal:u,handleCloseModal:h,isBold:C,handleClickOpen:y},e)))}))))})),Pr=function(e){var t=e.post,n=t.Comments,o=t.userId,c=t.id,s=e.currentUser,l=e.deleteComment,i=e.postComment,u=Object(a.useState)(!1),p=Object(Bn.a)(u,2),m=p[0],d=p[1],f=Object(a.useState)(!1),E=Object(Bn.a)(f,2),g=E[0],b=E[1],O=Object(a.useState)(""),y=Object(Bn.a)(O,2),h=y[0],v=y[1],C=Object(a.useState)(""),x=Object(Bn.a)(C,2),S=x[0],I=x[1],_=Object(a.useState)(!1),j=Object(Bn.a)(_,2),k=j[0],w=j[1],T=r.a.useRef(),U=r.a.useCallback((function(){b(!g)}),[b,g]),P=r.a.useCallback((function(e){v(e);var t=/^@/i,n=e.split(" ");0===n.length&&w(!1);for(var a=0;a<n.length;a++){var r=n[a];t.test(r)?w(!0):w(!1)}I("")}),[w,I]),N=r.a.useCallback((function(e){I(e.images.downsized_large.url),v("")}),[I,v]),R=r.a.useCallback((function(){d(!0)}),[d]),A=r.a.useCallback((function(){d(!1)}),[d]),F=r.a.useCallback((function(e,t){e.preventDefault(),i({comment_body:h,id:t,gifUrl:S}),v(""),b(!1),setTimeout((function(){T.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),1200)}),[v,b,h,S]),L=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{margin:"15px 0px",fontSize:"14px"}}," ","(",n.length,")"," "),r.a.createElement(Kn.a,{style:{fontWeight:500,margin:"10px 0px",fontSize:"12px"},variant:"caption"},"Comments"),r.a.createElement(Ur,{ref:T,user:s,deleteComment:l,userId:o,postId:c,comments:n})),D=g?r.a.createElement(br,{commentChange:function(e){return P(e.target.value)},comment_body:h,onSubmit:function(e){return F(e,c)},gifUrl:N,isGif:S,mentionedUser:k,setMentionedUser:w,setCommentBody:v,currentUser:s.user}):null;return r.a.createElement(zn.a,{item:!0,sm:12,lg:12,style:{paddingTop:"40px"}},0===n.length?r.a.createElement("div",{ref:T}):null,n.length>0?L:r.a.createElement(zn.a,{item:!0,sm:12,lg:12,style:{padding:"30px 0px"}},r.a.createElement(Kn.a,null,"No Commments Yet")),r.a.createElement(cr,{currentUser:s,writeComment:U,openForm:g,handleClickOpen:R,handleCloseModal:A,openModal:m}),D)};var Nr=function(e){var t=Object(a.useState)(!1),n=Object(Bn.a)(t,2),o=n[0],c=n[1],s=Na(),l=s.rePost,i=s.unRepost,u=s.commenterId,p=r.a.useCallback((function(){c(!0)}),[c]),m=r.a.useCallback((function(){c(!1)}),[c]),d=e.post,f=e.currentUser,E=e.getNotifications,g=-1!=window.location.href.indexOf("posts");return r.a.createElement(r.a.Fragment,null,E&&f&&f.user&&f.user.id!==u&&r.a.createElement(at.a,{autoClose:4e3,position:at.b.POSITION.BOTTOM_RIGHT}),r.a.createElement(zn.a,{"data-testid":"post-item-container",item:!0,sm:12,md:12,style:{margin:"20px 0px"}},r.a.createElement(qn.a,{style:{padding:"20px"}},g?r.a.createElement(r.a.Fragment,null,d.RepostedByMe&&f&&f.user&&d.userId!==f.user.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn.a,null,r.a.createElement($n.a,{style:{margin:"-5px 0px",color:"green"}})," ","Repost from",d.author.username)):null):null,r.a.createElement(Kn.a,{variant:"h5",align:"left"},r.a.createElement(aa,{style:{fontSize:"16px"},to:{pathname:"/post/".concat(d.id),state:{post:d}},title:d.title})),r.a.createElement(zn.a,{item:!0,sm:12,md:12,style:{padding:"30px 0px"}},r.a.createElement(Kn.a,{"data-testid":"post-content-testid",align:"left"},d.postContent.slice(0,50))),r.a.createElement(Vn.a,{style:{display:"inline-block",margin:"-10px -20px",padding:"0px 30px 0px 20px"},sizes:"small",src:d.author.gravatar}),r.a.createElement(Kn.a,{display:"inline",variant:"subtitle1",align:"left"},r.a.createElement(aa,{to:{pathname:"/profile/".concat(d.author.username),state:{post:d}},title:d.author.username})),r.a.createElement(zn.a,{container:!0,spacing:1,style:{padding:"20px 0px"}},r.a.createElement(zn.a,{item:!0,sm:10,lg:10,md:10,style:{padding:"0px 0px"}},r.a.createElement(Kn.a,{align:"left"},f&&f.user&&d.userId===f.user.id?r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.deletePost(d.id,d.userId)}},r.a.createElement(Qn.a,{style:{margin:"-5px 0px"},color:"primary"})," ",r.a.createElement("span",null,"Delete")):null),r.a.createElement(Kn.a,{align:"left"},f&&f.user&&d.userId!==f.user.id?r.a.createElement(r.a.Fragment,null,d.RepostedByMe?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return i(d.id,f.user.id)}},r.a.createElement($n.a,{style:{margin:"-5px 0px",color:"green"}})," ",r.a.createElement("span",null,"Un-Repost"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return l(d.id,f.user.id)}},r.a.createElement($n.a,{style:{margin:"-5px 0px"},color:"primary"})," ",r.a.createElement("span",null,"Repost")))):null)),r.a.createElement(zn.a,{item:!0,sm:2,lg:2,style:{padding:"0px 15px"}},r.a.createElement(Kn.a,{align:"right"},r.a.createElement(cr,{currentUser:f,type:"post-buttons",handleClickOpen:p,handleCloseModal:m,post:d,openModal:o})))),r.a.createElement(Fa,{type:"post-date",createdAt:d.createdAt}),r.a.createElement(Pr,{post:d,deleteComment:e.deleteComment,currentUser:e.currentUser,postComment:e.postComment}))))},Rr=n(201),Ar=n.n(Rr),Fr=(n(426),function(){return r.a.createElement(Ar.a,{style:{margin:"20px 0px"},type:"TailSpin",color:"#000",height:50,width:50})});var Lr=r.a.memo((function(e){var t=e.posts,n=e.currentUser;return Na().loading?r.a.createElement(Fr,null):r.a.createElement(r.a.Fragment,null,t.length>0?t.map((function(t,a){return r.a.createElement("div",{key:a,"data-testid":"post-list"},r.a.createElement(Nr,Object.assign({post:t,currentUser:n},e)))})):r.a.createElement("div",{"data-testid":"no-posts"},r.a.createElement(zn.a,{item:!0,md:8},r.a.createElement(Kn.a,null,"No Posts yet"))))})),Dr=function(e){return function(t){Object(Dn.a)(a,t);var n=Object(Mn.a)(a);function a(){var e;Object(Fn.a)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={},e}return Object(Ln.a)(a,[{key:"render",value:function(){return r.a.createElement(zn.a,{container:!0,justify:"center",spacing:0},r.a.createElement(zn.a,{item:!0,xs:11,sm:9,md:11,lg:8,style:{margin:"20px 0px"}},r.a.createElement(e,this.props)))}}]),a}(a.Component)};var Mr=function(){var e=Object(s.c)(),t=Object(s.d)(ia);return r.a.useEffect((function(){e({type:"GET_POSTS_INIT"}),e({type:"INIT_COMMENT_UPDATES"})}),[]),{posts:t}},Br=n(496),Gr={position:"fixed",width:"500px",height:"50px",bottom:"0px",left:"0px",right:"0px",margin:"20px auto",display:"flex",flexWrap:"wrap",alignContent:"center",padding:"15px",zIndex:99999};var Wr=function(){var e=Na().errPost;return r.a.createElement(Br.a,{style:Gr,severity:"error"},e)};var zr=function(e){return r.a.createElement("div",{className:Gn((e.appBar,Object(Nn.a)({},e.appBarShift,e.appOpen)))},e.children)};var Hr=r.a.memo(Dr((function(e){return Mr(),r.a.createElement(r.a.Fragment,null,r.a.createElement(zr,{appBar:e.appBar,appOpen:e.appOpen,appBarShift:e.appBarShift},r.a.createElement(Kn.a,{variant:"subtitle1",align:"left"},"Post's from our users"),Na().errPost&&r.a.createElement(Wr,null),r.a.createElement(Lr,{likePost:Na().likePost,deletePost:Na().deletePost,deleteComment:Na().deleteComment,dislikePost:Na().dislikePost,posts:Na().posts,currentUser:Na().user,postComment:Na().postComment,isNotified:Na().isNotified,getNotifications:Na().notifications,editComment:Na().editComment})))}))),Kr=function(e){var t=e.onSubmit,n=e.handleTitleChange,a=e.titleError,o=e.bodyError,c=e.title,s=e.handleContentChange,l=e.postContent,i=e.disButton;return r.a.createElement("form",{onSubmit:t},r.a.createElement(Kn.a,{className:"title",style:{paddingBottom:"20px"},variant:"subtitle1"},"New Post"),r.a.createElement(gr,{type:"post",titleError:a,title:c,handleTitleChange:n}),r.a.createElement(ir.a,{error:!0,id:"component-helper-text"},a),r.a.createElement(gr,{type:"post-content",bodyError:o,post_content:l,handleContentChange:s}),r.a.createElement(ir.a,{error:!0,id:"component-helper-text"},o),r.a.createElement("br",null),r.a.createElement(La.a,{className:"butSub",disabled:i,variant:"outlined",color:"primary",type:"submit"},"Submit"))},Yr=n(110),Vr=n(493),qr=n(484),Jr=n(485),Qr=n(495);n(427);function Zr(e){var t=e.children,n=e.index,a=e.value,o=Object(Yr.a)(e,["children","index","value"]);return r.a.createElement(Kn.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),a===n&&r.a.createElement(Vr.a,{p:3},t))}function $r(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Xr=Object(qr.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,padding:"30px 0px"}}}));function eo(){Mr();var e=Xr(),t=r.a.useState(1),n=Object(Bn.a)(t,2),a=n[0],o=n[1];return r.a.createElement("div",{className:e.root},r.a.createElement(zn.a,{container:!0,justify:"center"},r.a.createElement(zn.a,{item:!0,xs:12,sm:12,md:12,lg:9},r.a.createElement(Qr.a,{variant:"fullWidth",className:"tabMenu",value:a,onChange:function(e,t){o(t)}},r.a.createElement(Jr.a,Object.assign({label:"Trending"},$r(0))),r.a.createElement(Jr.a,Object.assign({label:"Newest"},$r(1))))),r.a.createElement(zn.a,{item:!0,xs:12,sm:12,md:12,lg:9},r.a.createElement(Zr,{value:a,index:0},r.a.createElement(Lr,{likePost:Na().likePost,deletePost:Na().deletePost,deleteComment:Na().deleteComment,dislikePost:Na().dislikePost,posts:Na().popPosts,currentUser:Na().user,postComment:Na().postComment,isNotified:Na().isNotified,getNotifications:Na().notifications,editComment:Na().editComment}))),r.a.createElement(zn.a,{item:!0,xs:12,sm:12,md:12,lg:9},r.a.createElement(Zr,{value:a,index:1},r.a.createElement(Lr,{likePost:Na().likePost,deletePost:Na().deletePost,deleteComment:Na().deleteComment,dislikePost:Na().dislikePost,posts:Na().posts,currentUser:Na().user,postComment:Na().postComment,isNotified:Na().isNotified,getNotifications:Na().notifications,editComment:Na().editComment})))))}function to(e){var t=e.addTitle,n=e.addContent,a=e.addUsername,o=e.addEmail,c=e.addPassword,s=e.addPasswordConf;return r.a.useCallback((function(e){if("title"===e.target.name&&t(e.target.value),"postContent"===e.target.name&&n(e.target.value),"username"===e.target.name&&a(e.target.value),"email"===e.target.name&&o(e.target.value),"password"===e.target.name&&c(e.target.value),"passwordConf"!==e.target.name)return null;s(e.target.value)}),[t,n,a,o,c,s])}var no=Dr((function(e){var t=Object(s.c)(),n=to({addTitle:function(e){return t(function(e){return{type:"ADD_TITLE",data:e}}(e))},addContent:function(e){return t(function(e){return{type:"ADD_CONTENT",data:e}}(e))}}),a=Na().ourTitle,o=Na().titleError,c=Na().ourBodyError,l=Na().ourPostContent,i=Na().createPost,u=!(!0===o&&!0===c);return r.a.createElement(r.a.Fragment,null,r.a.createElement(zr,{appBar:e.appBar,appOpen:e.appOpen,appBarShift:e.appBarShift},r.a.createElement(zn.a,{justify:"center",container:!0},r.a.createElement(zn.a,{item:!0,lg:9,xs:11},Na().errPost&&r.a.createElement(Wr,null),r.a.createElement(Kr,{title:a,postContent:l,handleTitleChange:n,handleContentChange:n,onSubmit:function(e){e.preventDefault(),i({ourTitle:a,ourPostContent:l})},disButton:u,titleError:o,bodyError:c}))),r.a.createElement("br",null),r.a.createElement(eo,null)))}));var ao=Dr((function(e){var t=Object(s.c)(),n=Object(s.d)(da)||e.location.state.meta.message;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,n),r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return t({type:"RESEND_EMAIL_CONFIRMATION_INIT"})}},"Resend Email Confirmation"))})),ro=n(486);var oo=Dr((function(e){var t=Object(a.useRef)(),n=Object(s.c)(),o=Object(s.d)(da),c=Object(s.d)(fa);return Object(a.useEffect)((function(){var a;t.current?console.log("this is component didupdate"):(a=e.match.params,n(function(e){return{type:"EMAIL_CONFIRMATION_INIT",payload:e}}(a)))}),[t]),r.a.createElement("div",{"data-testid":"message"},o.includes("Thank you")?r.a.createElement("div",{"data-testid":"success-message"},r.a.createElement(Br.a,{severity:"success"},r.a.createElement(ro.a,null,"Success"),o," ",r.a.createElement("a",{href:"/login"},"Login"))):r.a.createElement("div",{"data-testid":"error-message"},r.a.createElement(Br.a,{severity:"warning"},r.a.createElement(ro.a,null,"Error"),c)))}));var co=Dr(r.a.memo((function(e){var t=e.appBar,n=e.likePost,a=e.deleteComment,o=e.dislikePost,c=e.deletePostInit,s=e.notificationInit,l=e.user,i=e.appBarShift,u=e.appOpen,p=e.postCommentInit,m=e.isNotified,d=e.notification,f=Mr().posts;return r.a.createElement(r.a.Fragment,null,r.a.createElement(zr,{appBar:t,appOpen:u,appBarShift:i},r.a.createElement(Lr,{likePost:n,deletePost:c,deleteComment:a,dislikePost:o,posts:f,currentUser:l,postComment:p,isNotified:m,getNotifications:s,notification:d})))}))),so=Object(s.b)((function(e,t){return Object(ra.b)({posts:(n=t.match.params,Object(ra.a)(oa,(function(e){return e.posts.filter((function(e){return e.Likes.find((function(e){return e.userId==n.userId}))}))}))),user:Oa,notification:pa});var n}),(function(e){return{notificationInit:function(){return e({type:"INIT_NOTIFICATION"})},getPostsInit:function(){return e({type:"GET_POSTS_INIT"})},likePost:function(t){return e(rt(t))},postCommentInit:function(t){return e(lt(t))},dislikePost:function(t){return e(ot(t))},deletePostInit:function(t,n){return e(st(t,n))},deleteComment:function(t,n,a){return e(it(t,n,a))}}}))(co),lo=n(202),io=n.n(lo),uo=n(487),po=function(e){var t=e.submit,n=e.username,a=e.password,o=e.passwordChange,c=e.usernameChange;return r.a.createElement("form",{style:{width:"100%"},onSubmit:t},r.a.createElement(mr.a,{label:"Username",style:{width:"100%"},name:"username",value:n,onChange:c,margin:"normal"}),r.a.createElement("br",null),r.a.createElement(mr.a,{label:"Password",name:"password",type:"password",style:{width:"100%"},className:"",value:a,onChange:o,margin:"normal"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(La.a,{variant:"outlined",color:"primary",type:"submit"},"Login"))},mo=function(e){var t=function(t){Object(Dn.a)(a,t);var n=Object(Mn.a)(a);function a(){var e;Object(Fn.a)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).ourState={errors:{}},e}return Object(Ln.a)(a,[{key:"componentDidMount",value:function(){this.props.initLogin()}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(a.Component);return Object(s.b)((function(e){return{user:e.user}}),(function(e){return{initLogin:function(){return e({type:"INIT_LOGIN"})}}}))(t)},fo=n(497),Eo=Object(qr.a)((function(e){return Object(fo.a)({button:{margin:e.spacing(0,0,1),display:"flex",backgroundColor:"#48A9A6",borderRadius:e.shape.borderRadius,boxShadow:e.shadows[1],height:"36px",cursor:"pointer",textDecoration:"none","&:hover":{backgroundColor:"#000"},"&:active":{boxShadow:"inset 0 0 0 32px rgba(0,0,0,0.1)"}},wrapper:{marginTop:"1px",marginLeft:"1px",display:"flex",justifyContent:"center",alignItems:"center",width:"34px",height:"34px",borderRadius:"2px",backgroundColor:"#fff"},icon:{width:"18px",height:"18px"},text:{margin:"0px 40px",color:"#fff",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",flexGrow:1,textAlign:"center",alignSelf:"center"}})})),go=function(){var e=Eo({});return r.a.createElement("a",{href:"".concat("http://localhost:5000","/api/v1/users/auth/google"),className:e.button},r.a.createElement("div",{className:e.wrapper},r.a.createElement("svg",{className:e.icon,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 533.5 544.3"},r.a.createElement("path",{fill:"#4285f4",d:"M533.5 278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1 33.8-25.7 63.7-54.4 82.7v68h87.7c51.5-47.4 81.1-117.4 81.1-200.2z"}),r.a.createElement("path",{fill:"#34a853",d:"M272.1 544.3c73.4 0 135.3-24.1 180.4-65.7l-87.7-68c-24.4 16.6-55.9 26-92.6 26-71 0-131.2-47.9-152.8-112.3H28.9v70.1c46.2 91.9 140.3 149.9 243.2 149.9z"}),r.a.createElement("path",{fill:"#fbbc04",d:"M119.3 324.3c-11.4-33.8-11.4-70.4 0-104.2V150H28.9c-38.6 76.9-38.6 167.5 0 244.4l90.4-70.1z"}),r.a.createElement("path",{fill:"#ea4335",d:"M272.1 107.7c38.8-.6 76.3 14 104.4 40.8l77.7-77.7C405 24.6 339.7-.8 272.1 0 169.2 0 75.1 58 28.9 150l90.4 70.1c21.5-64.5 81.8-112.4 152.8-112.4z"}))),r.a.createElement("p",{className:e.text},"Login with Google"))},bo=Object(qr.a)((function(e){return{root:{height:"100vh",width:"100%"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Oo=mo((function(e){var t=bo(),n=Object(a.useState)(""),o=Object(Bn.a)(n,2),c=o[0],l=o[1],i=Object(a.useState)(""),u=Object(Bn.a)(i,2),p=u[0],m=u[1],d=Object(s.c)(),f=Object(s.d)(sa);return r.a.createElement(zr,{appBar:e.appBar,appOpen:e.appOpen,appBarShift:e.appBarShift},r.a.createElement(r.a.Fragment,null,r.a.createElement(zn.a,{container:!0,component:"main",className:t.root},r.a.createElement(uo.a,null),r.a.createElement(zn.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),r.a.createElement(zn.a,{item:!0,xs:12,sm:8,md:5,component:qn.a,elevation:6,square:!0},r.a.createElement("div",{className:t.paper},r.a.createElement(Vn.a,{className:t.avatar},r.a.createElement(io.a,null)),r.a.createElement(Kn.a,{component:"h1",variant:"h5"},"Log In"),f.error&&r.a.createElement("div",null,r.a.createElement(Br.a,{severity:"warning"},f.error)),f.error.includes("Please activate")&&r.a.createElement("div",{style:{padding:"20px 0px"}},r.a.createElement(Kn.a,{variant:"h6",style:{cursor:"pointer"},onClick:function(){e.history.goBack()}}," ","Back"," ")),r.a.createElement(po,{submit:function(t){var n,a;t.preventDefault(),n={username:c,password:p},a=e.history,d(function(e,t){return{type:"LOG_IN_INIT",payload:e,history:t}}(n,a))},username:c,password:p,usernameChange:function(e){return l(e.target.value)},passwordChange:function(e){return m(e.target.value)}}),r.a.createElement("div",{style:{margin:"60px 0px"}},r.a.createElement(go,null)))))))}));var yo=function(e){var t=Object(s.c)(),n=Object(s.d)(la);r.a.useEffect((function(){!function(e){t({type:"FETCH_POST_INIT",payload:e})}(parseInt(e.match.params.id))}),[]);var a=n.title,o=n.postContent,c=n.author;return r.a.createElement(r.a.Fragment,null,r.a.createElement(zn.a,{item:!0,sm:12,md:12,style:{margin:"20px 0px",padding:"0px 200px"}},r.a.createElement(zn.a,{item:!0,style:{padding:"20px 0px"}},r.a.createElement(Kn.a,{variant:"h2",align:"center"},a)),r.a.createElement(zn.a,{item:!0,sm:12,md:12,style:{padding:"40px 0px"}},r.a.createElement(Kn.a,{style:{lineHeight:"32px"},variant:"body1",align:"left"},o)),r.a.createElement(zn.a,{item:!0,sm:12,md:12,style:{padding:"20px 0px"}},r.a.createElement(Kn.a,{display:"inline",variant:"h6",align:"left"},"By:"," ",c&&c?c.username:""))))},ho=n(488),vo=n(478),Co=function(e){var t=e.onSubmit,n=e.bio,a=e.gravatar,o=e.handleBio,c=e.handleGravatar;return r.a.createElement("form",{onSubmit:t,"data-testid":"edit-form"},r.a.createElement(Kn.a,{variant:"subtitle1"},"Edit Profile"),r.a.createElement(ho.a,{style:{padding:"30px 0px"}},r.a.createElement(vo.a,{"data-testid":"form-bio-label",style:{display:"block"}},"Bio"),r.a.createElement(mr.a,{id:"outlined-name",className:"bio-test","data-testid":"bio-test",style:{width:"100%"},name:"bio",inputProps:{"data-testid":"bio"},multiline:!0,rows:"3",defaultValue:n,onChange:o,margin:"normal",variant:"outlined"}),r.a.createElement(vo.a,{"data-testid":"form-gravatar-label",style:{display:"block"}},"Gravatar"),r.a.createElement(mr.a,{id:"outlined-name","data-testid":"gravatar-test",style:{width:"100%"},inputProps:{"data-testid":"gravatar"},name:"gravatar",multiline:!0,rows:"3",onChange:c,defaultValue:a,margin:"normal",variant:"outlined"})),r.a.createElement(La.a,{"data-testid":"button-test",className:"subBtn",variant:"outlined",color:"primary",type:"submit"},"Submit"))};var xo=Dr((function(e){var t=Object(a.useState)(""),n=Object(Bn.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)(""),l=Object(Bn.a)(s,2),i=l[0],u=l[1],p=Object(a.useRef)(),m=Na(),d=m.getProfile,f=m.profileData,E=m.userErr,g=m.message,b=m.updateProfile;Object(a.useEffect)((function(){p.current?(c(o||f.bio),u(i||f.gravatar)):(d(),p.current=!0)}));var O=r.a.useCallback((function(e){e.preventDefault(),b({bio:o,gravatar:i})}),[b]);return r.a.createElement(zr,{appBar:e.appBar,appOpen:e.appOpen,appBarShift:e.appBarShift},r.a.createElement(zn.a,{container:!0,justify:"center"},r.a.createElement(zn.a,{item:!0,xs:12,sm:12,md:8,lg:8},E&&r.a.createElement(Kn.a,{style:{color:"red"}},g||E),g&&r.a.createElement(Kn.a,{style:{color:"green"}},g||E),r.a.createElement(Co,{handleBio:function(e){return c(e.target.value)},handleGravatar:function(e){return u(e.target.value)},onSubmit:O,bio:o,gravatar:i}))))})),So=n(203),Io=n.n(So);var _o=Dr((function(e){var t=e.match,n=e.appBar,o=e.appBarShift,c=e.appOpen,l=Object(a.useRef)(),i=Object(s.c)(),u=Object(s.d)(sa);Object(a.useEffect)((function(){if(!l.current){var e=t.params.username;i({type:"GET_PROFILE_INIT",data:e})}}),[]);var p=u.profilePage,m=u.currentUser.user,d=p&&p.UserFollowers?p.UserFollowers.length:"",f=d.length>1?"Follower":"Followers";return r.a.createElement(r.a.Fragment,null,r.a.createElement(zr,{appBar:n,appOpen:c,appBarShift:o},m&&p&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Vn.a,{src:p.gravatar}),r.a.createElement(zn.a,{item:!0,sm:12,md:12,style:{margin:"20px 0px"}},r.a.createElement(Kn.a,{variant:"subtitle1"},p.username),r.a.createElement(Kn.a,{variant:"body1",style:{margin:"20px 0px",letterSpacing:"1px"}},r.a.createElement(Io.a,{style:{margin:"-5px 0px"}})," ",p.bio),r.a.createElement(zn.a,{item:!0,sm:2,lg:2,style:{margin:"20px 0px"}},m.id!==p.id?r.a.createElement(Kn.a,{align:"left"},!0!==p.isFollowing?r.a.createElement(La.a,{variant:"outlined",color:"primary",onClick:function(){return e=p.username,t=m.id,i(function(e,t){return{type:"FOLLOW_USER_INIT",data:e,id:t}}(e,t));var e,t}},"Follow"):r.a.createElement(La.a,{style:{color:"#fff"},variant:"contained",color:"primary",onClick:function(){return e=p.username,t=m.id,i(function(e,t){return{type:"UNFOLLOW_USER_INIT",data:e,id:t}}(e,t));var e,t}},"Following")):null),r.a.createElement(zn.a,{item:!0,sm:12,md:12},r.a.createElement(Kn.a,{variant:"subtitle1",style:{margin:"10px 0px"}}," ",d," ",f," "),p&&d?r.a.createElement(r.a.Fragment,null,p.UserFollowers.map((function(e,t){return r.a.createElement(a.Fragment,{key:t},r.a.createElement(qn.a,{style:{margin:"30px 0px",padding:"20px 0px"}},r.a.createElement(Kn.a,{style:{padding:"0px 20px"},variant:"caption"},r.a.createElement(aa,{to:{pathname:"/profile/".concat(p&&e&&e.followerDetails?e.followerDetails.username:""),state:{followUser:e}},title:p&&e&&e.followerDetails?e.followerDetails.username:""}))))}))):null)))))})),jo=n(204),ko=n.n(jo),wo=function(e){return r.a.createElement("form",{style:{width:"100%"},onSubmit:e.submit},r.a.createElement(mr.a,{label:"Username",style:{width:"100%"},name:"username",value:e.username,error:!(!0===e.usernameError||""===e.usernameError),onChange:e.usernameChange,margin:"normal"}),r.a.createElement(ir.a,{error:!0,id:"component-helper-text"},e.usernameError),r.a.createElement(mr.a,{label:"Email",className:"",style:{width:"100%"},name:"email",error:!(!0===e.emailError||""===e.emailError),value:e.email,onChange:e.emailChange,margin:"dense"}),r.a.createElement(ir.a,{error:!0,id:"component-helper-text"},e.emailError),r.a.createElement(mr.a,{label:"Password",name:"password",type:"password",style:{width:"100%"},className:"",error:!(!0===e.passwordError||""===e.passwordError),value:e.password,onChange:e.passwordChange,margin:"dense"}),r.a.createElement(ir.a,{error:!0,id:"component-helper-text"},e.passwordError),e.password.length>6?r.a.createElement(mr.a,{label:"Confirm Pasword",name:"passwordConf",type:"password",style:{width:"100%"},className:"",error:!(!0===e.passwordConfError||""===e.passwordConfError),value:e.passwordConf,onChange:e.passwordConfChange,margin:"dense"}):null,!0!==e.passwordConfError&&""!==e.passwordConfError&&r.a.createElement(ir.a,{error:!0,id:"component-helper-text"},e.passwordConfError),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(La.a,{disabled:e.disButton,variant:"outlined",color:"primary",type:"submit"},"Sign Up"))},To=Object(qr.a)((function(e){return{root:{height:"100vh",width:"100%"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Uo=mo((function(e){var t=To(),n=Object(s.d)(sa),a=Object(s.c)(),o=to({addEmail:function(e){return a({type:"ADD_EMAIL",data:e})},addPassword:function(e){return a({type:"ADD_PASSWORD",data:e})},addUsername:function(e){return a({type:"ADD_USERNAME",data:e})},addPasswordConf:function(e){return a({type:"ADD_PASSWORD_CONF",data:e})}}),c=n.username,l=n.email,i=n.password,u=n.passwordConf,p=n.passwordConfError,m=n.usernameError,d=n.passwordError,f=n.emailError,E=!(!0===p&&!0===f&&!0===d&&!0===m);return r.a.createElement(zr,{appBar:e.appBar,appOpen:e.appOpen,appBarShift:e.appBarShift},r.a.createElement(r.a.Fragment,null,r.a.createElement(zn.a,{container:!0,component:"main",className:t.root},r.a.createElement(uo.a,null),r.a.createElement(zn.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),r.a.createElement(zn.a,{item:!0,xs:12,sm:8,md:5,component:qn.a,elevation:6,square:!0},r.a.createElement("div",{className:t.paper},r.a.createElement(Vn.a,{className:t.avatar},r.a.createElement(ko.a,null)),r.a.createElement(Kn.a,{component:"h1",variant:"h5"},"Register"),n.error&&r.a.createElement("div",null,n.error),r.a.createElement(wo,{submit:function(e){e.preventDefault(),function(e,t){a(function(e,t){return{type:"SIGN_UP_INIT",payload:e,history:t}}(e,t))}({username:n.username,email:n.email,password:n.password},A)},usernameChange:o,emailChange:o,passwordChange:o,passwordConfChange:o,username:c,password:i,passwordConf:u,email:l,usernameError:m,passwordError:d,passwordConfError:p,emailError:f,disButton:E}))))))})),Po=function(e){var t=e.component,n=Object(Yr.a)(e,["component"]);return!0===n.googleAccount||!1!==n.isAuthenticated?r.a.createElement(Yn.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,Object.assign({},n,e))}})):r.a.createElement(Yn.a,{to:{pathname:"/login"}})},No=Dr((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn.a,{variant:"h4"}," No Page Found :("),r.a.createElement("img",{style:{margin:"30px 0px"},width:"800",src:"https://s3.amazonaws.com/media.thecrimson.com/photos/2019/12/23/142555_1341777.png"}))})),Ro=n(8),Ao=n(483),Fo=n(502),Lo=n(205),Do=n.n(Lo);var Mo=Object(Ro.a)((function(e){var t,n;return{buttonCollapse:(t={},Object(Nn.a)(t,e.breakpoints.up("lg"),{display:"none"}),Object(Nn.a)(t,"margin","10px"),Object(Nn.a)(t,"boxShadow","none"),Object(Nn.a)(t,"color","#333"),t),drawerPaper:(n={width:210,right:"0px",top:"0px",left:"0px",position:"absolute"},Object(Nn.a)(n,e.breakpoints.up("lg"),{position:"absolute"}),Object(Nn.a)(n,"padding","0px"),n),appBar:Object(Nn.a)({marginLeft:210},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(210,"px)")})}}),{withTheme:!0})((function(e){var t=e.classes,n=e.theme;return r.a.createElement("div",{className:t.buttonCollapse},r.a.createElement(Ao.a,{onClick:function(){return e.setOpen(!e.appOpen)}},r.a.createElement(Do.a,{style:{color:"#fff"}})),r.a.createElement(Fo.a,{variant:"temporary",anchor:"right"===n.direction?"right":"left",open:e.appOpen,onClose:function(){return e.setOpen(!e.appOpen)},classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},r.a.createElement(Ao.a,{style:{marginLeft:200},onClick:function(){return e.setOpen(!e.appOpen)}}),e.children))})),Bo=n(501),Go=n(489);var Wo,zo=Object(ra.b)({getNotifications:Sa}),Ho=Object(s.b)(zo,(function(e){return{initGetNotifications:function(t){return e(N(t))},markAsReadInit:function(t){return e({type:"MARK_AS_READ_INIT",payload:t})}}}))((function(e){var t=r.a.useState(null),n=Object(Bn.a)(t,1)[0],o=Object(a.useRef)();return Boolean(n),Object(a.useEffect)((function(){o.current||(o.current=!0)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{color:"#fff"},onClick:e.handleNotificationClick},e.title),r.a.createElement(Bo.a,{id:e.id,open:e.open,anchorEl:e.anchorEl,onClose:e.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Kn.a,{style:{padding:"20px"},color:"secondary",variant:"h6"},"Notifications:"," "),r.a.createElement(Go.a,null),e.getNotifications.length>0&&e.getNotifications.find((function(e){return"unread"===e.status}))?e.getNotifications.map((function(t,n){return"unread"===t.status?r.a.createElement(a.Fragment,{key:n},r.a.createElement(Kn.a,{onClick:function(){return e.markAsReadInit(t.notificationId)},style:{width:"300px",cursor:"pointer",padding:"20px",backgroundColor:"rgba(0,0,0,0.08)"}},t.body),r.a.createElement(Go.a,null)):r.a.createElement(Kn.a,{key:n,style:{width:"300px",padding:"20px"}},t.body)})):r.a.createElement(Kn.a,{style:{width:"300px",padding:"20px"}},"No Notifications")))})),Ko=n(503),Yo=Object(ta.a)(Ko.a)(Wo||(Wo=Object(Xn.a)(["\n    padding: 10px;\n    a {\n        color: #000;\n    }\n"]))),Vo=function(e){return r.a.createElement(Yo,null,e.children)};var qo=function(e){var t=r.a.useState(null),n=Object(Bn.a)(t,2),a=(n[0],n[1]),o=e.currentUser.user?e.currentUser.user:"";return r.a.createElement(zn.a,{item:!0},r.a.createElement(Mo,{appOpen:e.appOpen,setOpen:e.setOpen},e.isAuthenticated||!0===e.googleAccount?r.a.createElement(r.a.Fragment,null,r.a.createElement(Vo,null,r.a.createElement(ea.a,{style:{fontWeight:"500",textDecoration:"none"},to:"/",color:"primary"},"Home")),r.a.createElement(Vo,null,r.a.createElement(ea.a,{style:{textDecoration:"none",fontWeight:"500"},to:"/dashboard"},"Dashboard")),r.a.createElement(Vo,null,r.a.createElement(ea.a,{style:{textDecoration:"none",fontWeight:"500"},to:{pathname:"/".concat(o.id,"/likes")}},"Your Likes")),r.a.createElement(Vo,null,r.a.createElement(ea.a,{style:{textDecoration:"none",fontWeight:"500"},to:{pathname:"/".concat(o.id,"/posts")}},"Your Posts")),r.a.createElement(Vo,null,r.a.createElement(ea.a,{style:{fontWeight:"500",textDecoration:"none"},to:"/editProfile"},"Edit Profile")),r.a.createElement(Vo,null,r.a.createElement(Ho,{userId:o.id,id:e.notificationId,handleClose:function(){a(null)},open:!1,anchorEl:e.anchorEl,handleNotificationClick:e.handleNotificationClick,title:"Notifications"})),r.a.createElement(Vo,null,r.a.createElement(ea.a,{style:{fontWeight:"500",textDecoration:"none"},to:{pathname:"/profile/".concat(o.username)}},"Profile")),r.a.createElement(Vo,null,r.a.createElement("span",{onClick:e.darkTheme},"Change Theme")),r.a.createElement(Vo,null,r.a.createElement("span",{onClick:e.logOut},"Log Out"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Vo,{style:{margin:"20px"}},r.a.createElement(ea.a,{style:{color:"#333",fontWeight:"500",textDecoration:"none"},to:"/"},"Home")),r.a.createElement(Vo,{style:{margin:"20px"}},r.a.createElement(ea.a,{style:{color:"#333",fontWeight:"500",textDecoration:"none"},to:"/login"},"Login")),r.a.createElement(Vo,{style:{margin:"20px"}},r.a.createElement(ea.a,{style:{color:"#333",fontWeight:"500",textDecoration:"none"},to:"/register"},"Register")))))},Jo=n(138);function Qo(e){return r.a.createElement(ea.a,Object.assign({style:{color:"#fff",textDecoration:"none",fontSize:"0.85rem"}},e),e.children)}function Zo(e){return r.a.createElement("li",{"data-testid":"nav-button-test",style:{padding:"0.5rem"}},r.a.createElement("button",Object.assign({style:{color:"#fff",fontWeight:400,border:0,margin:0,outline:0,padding:0,backgroundColor:"transparent",cursor:"pointer",textDecoration:"none",fontSize:"0.85rem"}},e),e.children))}var $o=Object(qr.a)((function(e){var t;return{buttonBar:(t={},Object(Nn.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(Nn.a)(t,"margin","10px"),Object(Nn.a)(t,"paddingLeft","16px"),Object(Nn.a)(t,"right",0),Object(Nn.a)(t,"width","100%"),Object(Nn.a)(t,"background","transparent"),t),appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(210,"px)"),marginLeft:210,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})}}}));var Xo=function(e){var t=r.a.useState(null),n=(Object(Bn.a)(t,2)[1],$o());return r.a.createElement(zn.a,{item:!0},r.a.createElement("div",{className:n.buttonBar,id:"appbar-collapse"},r.a.createElement(r.a.Fragment,null,e.isAuthenticated||!0===e.googleAccount?r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap-reverse",paddingRight:"20px",justifyContent:"flex-end",listStyleType:"none"}},Jo.menus.map((function(t,n){return r.a.createElement("li",{key:n,style:{padding:"0.5rem"}},"likes"!==t.link&&"posts"!==t.link&&"profile"!==t.link&&"logout"!==t.link&&r.a.createElement(Qo,{to:"/".concat(t.link)},t.name),"likes"===t.link&&r.a.createElement(Qo,{to:{pathname:"/".concat(e.user.id,"/").concat(t.link)}},t.name),"profile"===t.link&&r.a.createElement(Qo,{to:{pathname:"/".concat(t.link,"/").concat(e.user.username)}},t.name),"posts"===t.link&&r.a.createElement(Qo,{to:{pathname:"/".concat(e.user.id,"/").concat(t.link)}},t.name))})),r.a.createElement(Zo,null,r.a.createElement(Ho,{userId:e.currentUser.id,id:e.notificationId,handleClose:e.handleClose,open:e.open,anchorEl:e.anchorEl,handleNotificationClick:e.handleNotificationClick,title:"Notifications"})),r.a.createElement(Zo,{onClick:e.darkTheme},"Change Theme"),r.a.createElement(Zo,{onClick:e.logOut},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap-reverse",paddingRight:"20px",justifyContent:"flex-end",listStyleType:"none"}},Jo.guestMenu.map((function(e,t){return r.a.createElement("li",{style:{padding:"0.5rem"}},r.a.createElement(Qo,{to:"/".concat(e.link)},e.name))})))))))},ec=Object(qr.a)((function(e){var t;return{buttonBar:(t={},Object(Nn.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(Nn.a)(t,"margin","10px"),Object(Nn.a)(t,"paddingLeft","16px"),Object(Nn.a)(t,"right",0),Object(Nn.a)(t,"width","100%"),Object(Nn.a)(t,"background","transparent"),t),appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(210,"px)"),marginLeft:210,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden"}}}));var tc=function(){var e=r.a.useState(!1),t=Object(Bn.a)(e,2);return{appOpen:t[0],appSetOpen:t[1],classes:ec()}},nc=n(499),ac=n(206),rc=n.n(ac),oc=function(e){var t=e.currentUser,n=Na(),a=n.query,o=n.searchQ,c=0===a.length,s=a.length>0?"100px":"-40px",l=a.length>0?1:.1;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),A.push({pathname:"/search/posts?q=".concat(a),state:{query:a,currentUser:t}})}},r.a.createElement(nc.a,{placeholder:"Search\u2026",style:{color:"#fff"},onChange:function(e){return t=e.target.value,void o(t);var t},value:a,inputProps:{"aria-label":"search"}}),r.a.createElement(La.a,{disabled:c,style:{marginLeft:s,opacity:l,transition:"ease 0.4s",outline:"none",backgroundColor:"transparent"},size:"small",type:"submit",variant:"outlined",color:"primary"},r.a.createElement(rc.a,{style:{color:"#fff"}}))))};var cc=Dr(r.a.memo((function(e){var t=e.appBar,n=e.appBarShift,a=e.appOpen,o=e.dislikePost,c=e.postCommentInit,s=e.likePost,l=e.user,i=e.deleteComment,u=e.deletePostInit,p=e.isNotified,m=e.notification,d=e.notificationInit,f=Mr().posts;return r.a.createElement(r.a.Fragment,null,r.a.createElement(zr,{appBar:t,appOpen:a,appBarShift:n},r.a.createElement(Lr,{likePost:s,deletePost:u,deleteComment:i,dislikePost:o,posts:f,currentUser:l,postComment:c,isNotified:p,getNotifications:d,notification:m})))}))),sc=Object(s.b)((function(e,t){return Object(ra.b)({posts:(n=t.match.params,Object(ra.a)(oa,(function(e){return e.posts.filter((function(e){return e.userId==n.userId||1==e.RepostedByMe}))}))),user:Oa,notification:pa});var n}),(function(e){return{notificationInit:function(){return e({type:"INIT_NOTIFICATION"})},getPostsInit:function(){return e({type:"GET_POSTS_INIT"})},likePost:function(t){return e(rt(t))},postCommentInit:function(t){return e(lt(t))},dislikePost:function(t){return e(ot(t))},deletePostInit:function(t,n){return e(st(t,n))},deleteComment:function(t,n,a){return e(it(t,n,a))}}}))(cc),lc=function(e){var t=Na(),n=t.postResults,a=t.query;return r.a.createElement(r.a.Fragment,null,n.map((function(e,t){return r.a.createElement("div",{key:t,style:{width:"30%",padding:"10px",position:"absolute",marginTop:"20px",backgroundColor:"#fff",border:"1px solid #000"}},r.a.createElement("img",{style:{padding:"0px 8px"},width:"10px",height:"10px",src:e.author.gravatar}),r.a.createElement(aa,{style:{fontSize:"12px"},to:{pathname:"/post/".concat(e.id)},title:e.title}))})),""!==a&&0===n.length&&r.a.createElement("div",{style:{fontSize:"12px",width:"30%",padding:"10px",position:"absolute",marginTop:"20px",backgroundColor:"#fff",border:"1px solid #000"}},"No Posts Found"))},ic=Dr((function(e){var t=e.location,n=Na(),o=n.posts,c=n.getSearch,s=n.likePost,l=n.deletePost,i=n.deleteComment,u=n.dislikePost,p=n.postComment,m=n.editComment,d=n.isNotified,f=n.notifications,E=t.state.query,g=t.state.currentUser;return Object(a.useEffect)((function(){c(E)}),[E]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Lr,{likePost:s,deletePost:l,deleteComment:i,dislikePost:u,posts:o,currentUser:g,postComment:p,isNotified:d,getNotifications:f,editComment:m}))}));var uc,pc=function(e){var t=r.a.useState(null),n=Object(Bn.a)(t,2),a=n[0],o=n[1],c=tc(),s=c.classes,l=c.appOpen,i=c.appSetOpen,u=Na(),p=(u.postResults,u.query,Boolean(a)),m=p?"simple-popover":void 0,d=function(t){o(t.currentTarget),e.notifications(E.id)},f=r.a.useCallback((function(){o(null)}),[o]),E=e.currentUser.user?e.currentUser.user:"";return e.hasError?r.a.createElement("div",null,"Error"):r.a.createElement(Yn.c,{history:A},r.a.createElement(Wn.a,{position:"static",className:Gn((s.appBar,Object(Nn.a)({},s.appBarShift,l)))},r.a.createElement(Hn.a,{style:{height:"1px"}},r.a.createElement(zn.a,{item:!0,lg:2,style:{flex:1}},r.a.createElement(Kn.a,{style:{color:"#fff"},variant:"subtitle1",color:"secondary"},"TypeScript React")),r.a.createElement(zn.a,{item:!0,lg:8,style:{flex:1}},r.a.createElement(oc,e),r.a.createElement(lc,null)),r.a.createElement(qo,Object.assign({setOpen:i,appOpen:l,user:E,handleNotificationClick:d},e)),r.a.createElement(Xo,Object.assign({},e,{handleClose:f,user:E,open:p,notificationId:m,anchorEl:a,handleNotificationClick:d})))),r.a.createElement(Yn.d,null,r.a.createElement(Yn.b,{exact:!0,path:"/",render:function(){return r.a.createElement(Hr,Object.assign({},e,s,{appOpen:l}))}}),r.a.createElement(Yn.b,{path:"/login",render:function(){return!0===e.isAuthenticated||!0===e.googleAccount?r.a.createElement(Yn.a,{to:"/dashboard"}):r.a.createElement(Oo,Object.assign({},e,s,{appOpen:l}))}}),r.a.createElement(Yn.b,{path:"/register",render:function(){return!0===e.isAuthenticated||!0===e.googleAccount?r.a.createElement(Yn.a,{to:"/dashboard"}):r.a.createElement(Uo,Object.assign({},e,s,{appOpen:l}))}}),r.a.createElement(Yn.b,Object.assign({path:"/emailConfirmation",component:ao},e)),r.a.createElement(Yn.b,Object.assign({exact:!0,path:"/search/posts",component:ic},e,s)),r.a.createElement(Yn.b,Object.assign({path:"/emailConfirmationSuccess/:userId/:token",component:oo},e)),r.a.createElement(Po,Object.assign({exact:!0,path:"/dashboard",component:no},e,s,{appOpen:l})),r.a.createElement(Po,Object.assign({exact:!0,path:"/profile/:username",component:_o},e,s,{appOpen:l})),r.a.createElement(Po,Object.assign({exact:!0,path:"/editProfile",component:xo},e,s,{appOpen:l})),r.a.createElement(Po,Object.assign({exact:!0,path:"/:userId/likes",component:so},e,s,{appOpen:l})),r.a.createElement(Po,Object.assign({exact:!0,path:"/:userId/posts",component:sc},e,s,{appOpen:l})),r.a.createElement(Yn.b,Object.assign({path:"/post/:id",component:yo},e,s,{appOpen:l})),r.a.createElement(Yn.b,{component:No})))},mc=function(e){Object(Dn.a)(n,e);var t=Object(Mn.a)(n);function n(){var e;Object(Fn.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e.ourLogOut=function(t){t.preventDefault(),e.props.logOutInit(A)},e}return Object(Ln.a)(n,[{key:"componentDidMount",value:function(){this.props.getUser()}},{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){var e=this.state.hasError;return r.a.createElement(pc,Object.assign({darkTheme:this.props.darkTheme,notifications:this.props.initGetNotifications,hasError:e,logOut:this.ourLogOut,user:this.props.user.isAuthenticated},this.props.user))}}]),n}(a.Component),dc=Object(s.b)((function(e){return{user:e.user}}),(function(e){return{getUser:function(){return e({type:"GET_USER"})},logOutInit:function(t){return e(T(t))},initGetNotifications:function(t){return e(N(t))}}}))(mc);F();var fc=Object(Rn.a)({palette:{primary:{main:"#48A9A6"},secondary:{main:"#000000"}}}),Ec=Object(Rn.a)({palette:{primary:{main:"#48A9A6"},secondary:{main:"#000000"}}});Ec.typography.h6=(uc={fontSize:"0.9rem","@media (min-width:600px)":{fontSize:"0.5rem"}},Object(Nn.a)(uc,fc.breakpoints.up("lg"),{fontSize:"1.4rem"}),Object(Nn.a)(uc,fc.breakpoints.up("sm"),{fontSize:"1.4rem"}),uc),Ec.typography.h5=Object(Nn.a)({"@media (min-width:600px)":{fontSize:"0.9rem"}},fc.breakpoints.up("md"),{fontSize:"1.4rem"});var gc=Object(Rn.a)({palette:{primary:{main:"#000"},secondary:{main:"#000"}}});var bc=Object(s.b)((function(e){return{user:e.user}}),(function(e){return{setDark:function(){return e({type:"SET_DARK"})}}}))((function(e){return r.a.createElement(An.a,{theme:e.user.notDark?Ec:gc},r.a.createElement(dc,{darkTheme:function(){e.setDark()}}))})),Oc=r.a.createElement(s.a,{store:Tn},r.a.createElement(l.PersistGate,{persistor:Un},r.a.createElement(bc,null)));c.a.render(Oc,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[226,1,2]]]);
//# sourceMappingURL=main.2c361f7c.chunk.js.map